{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useContext, useRef, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport '../Button/Button.js';\nimport '../__keys-e6a5cfbe.js';\nimport 'reakit-utils/removeItemFromArray';\nimport { M as MenuContext } from '../MenuContext-6af6cf92.js';\nimport '../__keys-ed7b48af.js';\nimport '../__keys-26bb1730.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Dialog/DialogDisclosure.js';\nimport { c as MENU_BUTTON_KEYS } from '../__keys-f74df4e0.js';\nimport { usePopoverDisclosure } from '../Popover/PopoverDisclosure.js';\nimport { f as findVisibleSubmenu } from '../findVisibleSubmenu-1553e354.js';\n\nvar noop = function noop() {};\n\nvar useMenuButton = createHook({\n  name: \"MenuButton\",\n  compose: usePopoverDisclosure,\n  keys: MENU_BUTTON_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    var prevPopoverStyles = prev.unstable_popoverStyles,\n        prevArrowStyles = prev.unstable_arrowStyles,\n        prevCurrentId = prev.currentId,\n        prevMoves = prev.unstable_moves,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"currentId\", \"unstable_moves\"]);\n\n    var nextPopoverStyles = next.unstable_popoverStyles,\n        nextArrowStyles = next.unstable_arrowStyles,\n        nextCurrentId = next.currentId,\n        nextMoves = next.unstable_moves,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"currentId\", \"unstable_moves\"]);\n\n    return usePopoverDisclosure.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlRef = _ref.ref,\n        htmlOnClick = _ref.onClick,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnMouseEnter = _ref.onMouseEnter,\n        htmlOnMouseDown = _ref.onMouseDown,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"onClick\", \"onKeyDown\", \"onFocus\", \"onMouseEnter\", \"onMouseDown\"]);\n\n    var parent = useContext(MenuContext);\n    var ref = useRef(null);\n    var hasPressedMouse = useRef(false);\n\n    var _options$placement$sp = options.placement.split(\"-\"),\n        dir = _options$placement$sp[0];\n\n    var hasParent = !!parent;\n    var parentIsMenuBar = (parent === null || parent === void 0 ? void 0 : parent.role) === \"menubar\";\n    var disabled = options.disabled || htmlProps[\"aria-disabled\"];\n    var onClickRef = useLiveRef(htmlOnClick);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n    var onMouseDownRef = useLiveRef(htmlOnMouseDown);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      if (event.key === \"Escape\") {\n        var _options$hide; // Doesn't prevent default on Escape, otherwise we can't close\n        // dialogs when MenuButton is focused\n\n\n        (_options$hide = options.hide) === null || _options$hide === void 0 ? void 0 : _options$hide.call(options);\n      } else if (!disabled) {\n        // setTimeout prevents scroll jump\n        var first = options.first && function () {\n          return setTimeout(options.first);\n        };\n\n        var last = options.last && function () {\n          return setTimeout(options.last);\n        };\n\n        var keyMap = {\n          Enter: first,\n          \" \": first,\n          ArrowUp: (dir === \"top\" || dir === \"bottom\") && last,\n          ArrowRight: dir === \"right\" && first,\n          ArrowDown: (dir === \"bottom\" || dir === \"top\") && first,\n          ArrowLeft: dir === \"left\" && first\n        };\n        var action = keyMap[event.key];\n\n        if (action) {\n          var _options$show;\n\n          event.preventDefault();\n          event.stopPropagation();\n          (_options$show = options.show) === null || _options$show === void 0 ? void 0 : _options$show.call(options);\n          action();\n          return;\n        }\n      }\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n    }, [disabled, options.hide, options.first, options.last, dir, options.show]);\n    var onMouseEnter = useCallback(function (event) {\n      var _onMouseEnterRef$curr;\n\n      (_onMouseEnterRef$curr = onMouseEnterRef.current) === null || _onMouseEnterRef$curr === void 0 ? void 0 : _onMouseEnterRef$curr.call(onMouseEnterRef, event);\n      if (event.defaultPrevented) return; // MenuButton's don't do anything on mouse over when they aren't\n      // cointained within a Menu/MenuBar\n\n      if (!parent) return;\n      var element = event.currentTarget;\n\n      if (parentIsMenuBar) {\n        // if MenuButton is an item inside a MenuBar, it'll only open\n        // if there's already another sibling expanded MenuButton\n        if (findVisibleSubmenu(parent.children)) {\n          element.focus();\n        }\n      } else {\n        // If it's in a Menu, open after a short delay\n        // TODO: Make the delay a prop?\n        setTimeout(function () {\n          if (hasFocusWithin(element)) {\n            var _options$show2;\n\n            (_options$show2 = options.show) === null || _options$show2 === void 0 ? void 0 : _options$show2.call(options);\n          }\n        }, 200);\n      }\n    }, [parent, parentIsMenuBar, options.show]);\n    var onMouseDown = useCallback(function (event) {\n      var _onMouseDownRef$curre; // When in menu bar, the menu button can be activated either by focus\n      // or click, but we don't want both to trigger sequentially.\n      // Otherwise, onClick would toggle (hide) the menu right after it got\n      // shown on focus.\n      // This is also useful so we know if the menu button has been clicked\n      // using mouse or keyboard. On mouse click, we don't automatically\n      // focus the first menu item.\n\n\n      hasPressedMouse.current = true;\n      (_onMouseDownRef$curre = onMouseDownRef.current) === null || _onMouseDownRef$curre === void 0 ? void 0 : _onMouseDownRef$curre.call(onMouseDownRef, event);\n    }, []);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (disabled) return;\n\n      if (parentIsMenuBar && !hasPressedMouse.current) {\n        var _options$show3;\n\n        (_options$show3 = options.show) === null || _options$show3 === void 0 ? void 0 : _options$show3.call(options);\n      }\n    }, [parentIsMenuBar, disabled, options.show]); // If disclosure is rendered as a menu bar item, it's toggable\n    // That is, you can click on the expanded disclosure to close its menu.\n\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return; // If menu button is a menu item inside a menu (not menu bar), you\n      // can't close it by clicking on it again.\n\n      if (hasParent && !parentIsMenuBar) {\n        var _options$show4;\n\n        (_options$show4 = options.show) === null || _options$show4 === void 0 ? void 0 : _options$show4.call(options);\n      } else {\n        var _options$toggle; // Otherwise, if menu button is a menu bar item or an orphan menu\n        // button, it's toggable.\n\n\n        (_options$toggle = options.toggle) === null || _options$toggle === void 0 ? void 0 : _options$toggle.call(options); // Focus the menu popover when it's opened with mouse click.\n\n        if (hasPressedMouse.current && !parentIsMenuBar && !options.visible) {\n          var _options$move;\n\n          (_options$move = options.move) === null || _options$move === void 0 ? void 0 : _options$move.call(options, null);\n        }\n      }\n\n      hasPressedMouse.current = false;\n    }, [hasParent, parentIsMenuBar, options.show, options.toggle, options.visible, options.move]);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      \"aria-haspopup\": \"menu\",\n      onKeyDown: onKeyDown,\n      onMouseEnter: onMouseEnter,\n      onMouseDown: onMouseDown,\n      onFocus: onFocus,\n      onClick: onClick\n    }, htmlProps);\n  },\n  useComposeOptions: function useComposeOptions(options) {\n    return _objectSpread2(_objectSpread2({}, options), {}, {\n      // Toggling is handled by MenuButton\n      toggle: noop\n    });\n  }\n});\nvar MenuButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useMenuButton\n});\nexport { MenuButton, useMenuButton };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/reakit/es/Menu/MenuButton.js"],"names":["_","_objectWithoutPropertiesLoose","a","_objectSpread2","createComponent","createHook","useContext","useRef","useCallback","useForkRef","useLiveRef","hasFocusWithin","M","MenuContext","c","MENU_BUTTON_KEYS","usePopoverDisclosure","f","findVisibleSubmenu","noop","useMenuButton","name","compose","keys","propsAreEqual","prev","next","prevPopoverStyles","unstable_popoverStyles","prevArrowStyles","unstable_arrowStyles","prevCurrentId","currentId","prevMoves","unstable_moves","prevProps","nextPopoverStyles","nextArrowStyles","nextCurrentId","nextMoves","nextProps","unstable_propsAreEqual","useProps","options","_ref","htmlRef","ref","htmlOnClick","onClick","htmlOnKeyDown","onKeyDown","htmlOnFocus","onFocus","htmlOnMouseEnter","onMouseEnter","htmlOnMouseDown","onMouseDown","htmlProps","parent","hasPressedMouse","_options$placement$sp","placement","split","dir","hasParent","parentIsMenuBar","role","disabled","onClickRef","onKeyDownRef","onFocusRef","onMouseEnterRef","onMouseDownRef","event","_onKeyDownRef$current","key","_options$hide","hide","call","first","setTimeout","last","keyMap","Enter","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","action","_options$show","preventDefault","stopPropagation","show","current","_onMouseEnterRef$curr","defaultPrevented","element","currentTarget","children","focus","_options$show2","_onMouseDownRef$curre","_onFocusRef$current","_options$show3","_onClickRef$current","_options$show4","_options$toggle","toggle","visible","_options$move","move","useComposeOptions","MenuButton","as","memo","useHook"],"mappings":"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","sourcesContent":["import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useContext, useRef, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport '../Button/Button.js';\nimport '../__keys-e6a5cfbe.js';\nimport 'reakit-utils/removeItemFromArray';\nimport { M as MenuContext } from '../MenuContext-6af6cf92.js';\nimport '../__keys-ed7b48af.js';\nimport '../__keys-26bb1730.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Dialog/DialogDisclosure.js';\nimport { c as MENU_BUTTON_KEYS } from '../__keys-f74df4e0.js';\nimport { usePopoverDisclosure } from '../Popover/PopoverDisclosure.js';\nimport { f as findVisibleSubmenu } from '../findVisibleSubmenu-1553e354.js';\n\nvar noop = function noop() {};\n\nvar useMenuButton = createHook({\n  name: \"MenuButton\",\n  compose: usePopoverDisclosure,\n  keys: MENU_BUTTON_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    var prevPopoverStyles = prev.unstable_popoverStyles,\n        prevArrowStyles = prev.unstable_arrowStyles,\n        prevCurrentId = prev.currentId,\n        prevMoves = prev.unstable_moves,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"currentId\", \"unstable_moves\"]);\n\n    var nextPopoverStyles = next.unstable_popoverStyles,\n        nextArrowStyles = next.unstable_arrowStyles,\n        nextCurrentId = next.currentId,\n        nextMoves = next.unstable_moves,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"currentId\", \"unstable_moves\"]);\n\n    return usePopoverDisclosure.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlRef = _ref.ref,\n        htmlOnClick = _ref.onClick,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnMouseEnter = _ref.onMouseEnter,\n        htmlOnMouseDown = _ref.onMouseDown,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"onClick\", \"onKeyDown\", \"onFocus\", \"onMouseEnter\", \"onMouseDown\"]);\n\n    var parent = useContext(MenuContext);\n    var ref = useRef(null);\n    var hasPressedMouse = useRef(false);\n\n    var _options$placement$sp = options.placement.split(\"-\"),\n        dir = _options$placement$sp[0];\n\n    var hasParent = !!parent;\n    var parentIsMenuBar = (parent === null || parent === void 0 ? void 0 : parent.role) === \"menubar\";\n    var disabled = options.disabled || htmlProps[\"aria-disabled\"];\n    var onClickRef = useLiveRef(htmlOnClick);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n    var onMouseDownRef = useLiveRef(htmlOnMouseDown);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      if (event.key === \"Escape\") {\n        var _options$hide;\n\n        // Doesn't prevent default on Escape, otherwise we can't close\n        // dialogs when MenuButton is focused\n        (_options$hide = options.hide) === null || _options$hide === void 0 ? void 0 : _options$hide.call(options);\n      } else if (!disabled) {\n        // setTimeout prevents scroll jump\n        var first = options.first && function () {\n          return setTimeout(options.first);\n        };\n\n        var last = options.last && function () {\n          return setTimeout(options.last);\n        };\n\n        var keyMap = {\n          Enter: first,\n          \" \": first,\n          ArrowUp: (dir === \"top\" || dir === \"bottom\") && last,\n          ArrowRight: dir === \"right\" && first,\n          ArrowDown: (dir === \"bottom\" || dir === \"top\") && first,\n          ArrowLeft: dir === \"left\" && first\n        };\n        var action = keyMap[event.key];\n\n        if (action) {\n          var _options$show;\n\n          event.preventDefault();\n          event.stopPropagation();\n          (_options$show = options.show) === null || _options$show === void 0 ? void 0 : _options$show.call(options);\n          action();\n          return;\n        }\n      }\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n    }, [disabled, options.hide, options.first, options.last, dir, options.show]);\n    var onMouseEnter = useCallback(function (event) {\n      var _onMouseEnterRef$curr;\n\n      (_onMouseEnterRef$curr = onMouseEnterRef.current) === null || _onMouseEnterRef$curr === void 0 ? void 0 : _onMouseEnterRef$curr.call(onMouseEnterRef, event);\n      if (event.defaultPrevented) return; // MenuButton's don't do anything on mouse over when they aren't\n      // cointained within a Menu/MenuBar\n\n      if (!parent) return;\n      var element = event.currentTarget;\n\n      if (parentIsMenuBar) {\n        // if MenuButton is an item inside a MenuBar, it'll only open\n        // if there's already another sibling expanded MenuButton\n        if (findVisibleSubmenu(parent.children)) {\n          element.focus();\n        }\n      } else {\n        // If it's in a Menu, open after a short delay\n        // TODO: Make the delay a prop?\n        setTimeout(function () {\n          if (hasFocusWithin(element)) {\n            var _options$show2;\n\n            (_options$show2 = options.show) === null || _options$show2 === void 0 ? void 0 : _options$show2.call(options);\n          }\n        }, 200);\n      }\n    }, [parent, parentIsMenuBar, options.show]);\n    var onMouseDown = useCallback(function (event) {\n      var _onMouseDownRef$curre;\n\n      // When in menu bar, the menu button can be activated either by focus\n      // or click, but we don't want both to trigger sequentially.\n      // Otherwise, onClick would toggle (hide) the menu right after it got\n      // shown on focus.\n      // This is also useful so we know if the menu button has been clicked\n      // using mouse or keyboard. On mouse click, we don't automatically\n      // focus the first menu item.\n      hasPressedMouse.current = true;\n      (_onMouseDownRef$curre = onMouseDownRef.current) === null || _onMouseDownRef$curre === void 0 ? void 0 : _onMouseDownRef$curre.call(onMouseDownRef, event);\n    }, []);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (disabled) return;\n\n      if (parentIsMenuBar && !hasPressedMouse.current) {\n        var _options$show3;\n\n        (_options$show3 = options.show) === null || _options$show3 === void 0 ? void 0 : _options$show3.call(options);\n      }\n    }, [parentIsMenuBar, disabled, options.show]); // If disclosure is rendered as a menu bar item, it's toggable\n    // That is, you can click on the expanded disclosure to close its menu.\n\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return; // If menu button is a menu item inside a menu (not menu bar), you\n      // can't close it by clicking on it again.\n\n      if (hasParent && !parentIsMenuBar) {\n        var _options$show4;\n\n        (_options$show4 = options.show) === null || _options$show4 === void 0 ? void 0 : _options$show4.call(options);\n      } else {\n        var _options$toggle;\n\n        // Otherwise, if menu button is a menu bar item or an orphan menu\n        // button, it's toggable.\n        (_options$toggle = options.toggle) === null || _options$toggle === void 0 ? void 0 : _options$toggle.call(options); // Focus the menu popover when it's opened with mouse click.\n\n        if (hasPressedMouse.current && !parentIsMenuBar && !options.visible) {\n          var _options$move;\n\n          (_options$move = options.move) === null || _options$move === void 0 ? void 0 : _options$move.call(options, null);\n        }\n      }\n\n      hasPressedMouse.current = false;\n    }, [hasParent, parentIsMenuBar, options.show, options.toggle, options.visible, options.move]);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      \"aria-haspopup\": \"menu\",\n      onKeyDown: onKeyDown,\n      onMouseEnter: onMouseEnter,\n      onMouseDown: onMouseDown,\n      onFocus: onFocus,\n      onClick: onClick\n    }, htmlProps);\n  },\n  useComposeOptions: function useComposeOptions(options) {\n    return _objectSpread2(_objectSpread2({}, options), {}, {\n      // Toggling is handled by MenuButton\n      toggle: noop\n    });\n  }\n});\nvar MenuButton = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useMenuButton\n});\n\nexport { MenuButton, useMenuButton };\n"]},"metadata":{},"sourceType":"module"}