{"ast":null,"code":"import { createContext, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport 'emotion';\nimport '@emotion/core';\nimport 'emotion-theming';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport '../utils/useLocalStorage.js';\nimport { d as _objectWithoutPropertiesLoose, _ as _objectSpread2, c as _extends } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/colors.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport 'conditional-wrap';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuPopover, c as SelectMenuItemsWrapper, d as SelectMenuButton$1, e as SelectMenuButtonText, f as SelectMenuButtonIconsWrapper, g as SelectMenuButtonIcon, h as SelectMenuSearchInputWrapper, i as SelectMenuSearchInput$1, j as SelectMenuTagsWrapper, k as SelectMenuItemText, l as SelectMenuClearButtonWrapper, m as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      onChange = props.onChange,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      Disclosure = props.renderDisclosure,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      tagProps = props.tagProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"limit\", \"loadOptions\", \"loadVariables\", \"onChange\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"searchInputProps\", \"placeholder\", \"state\", \"tagProps\", \"value\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback(function (_ref2) {\n    var loadVariables = _ref2.loadVariables,\n        page = _ref2.page,\n        _ref2$searchText = _ref2.searchText,\n        searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n    if (typeof loadOptions === 'function') {\n      if (blockLoad) return {\n        options: options\n      };\n      return loadOptions({\n        page: page,\n        searchText: searchText,\n        variables: loadVariables\n      }).then(function (_ref3) {\n        var fetchedOptions = _ref3.options;\n        var newOptions = [].concat(options, fetchedOptions);\n\n        if (page === 1) {\n          newOptions = fetchedOptions;\n        }\n\n        if (page > 1 && fetchedOptions.length === 0) {\n          setBlockLoad(true);\n        }\n\n        return {\n          options: newOptions\n        };\n      });\n    }\n\n    return new Promise(function (res) {\n      return res(undefined);\n    });\n  }, [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref4) {\n    var searchText = _ref4.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref5) {\n    var option = _ref5.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n  }, [defer, optionsRecord]);\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n    }\n  }, [dropdownMenu.visible, handleChangeInput]);\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      selectedOptions: selectedOptions,\n      state: fieldState,\n      Disclosure: Disclosure\n    }, buttonProps)), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }))) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      Disclosure = props.Disclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"isLoading\", \"onClick\", \"onClear\", \"Disclosure\", \"selectedOptions\", \"placeholder\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (Disclosure) {\n    return /*#__PURE__*/createElement$1(Disclosure, {\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/bumbag/es/SelectMenu/SelectMenu.js"],"names":["createContext","useState","useReducer","useEffect","useCallback","useMemo","createElement","createElement$1","Fragment","useContext","d","_objectWithoutPropertiesLoose","_","_objectSpread2","c","_extends","useDebounce","useClassName","createComponent","createHook","Box","Box$1","Icon","Text","Spinner","Button","Set","useLoads","Input","DropdownMenuButton","DropdownMenuPopover","DropdownMenu","Menu","a","SelectMenu$1","b","SelectMenuPopover","SelectMenuItemsWrapper","SelectMenuButton$1","e","SelectMenuButtonText","f","SelectMenuButtonIconsWrapper","g","SelectMenuButtonIcon","h","SelectMenuSearchInputWrapper","i","SelectMenuSearchInput$1","j","SelectMenuTagsWrapper","k","SelectMenuItemText","l","SelectMenuClearButtonWrapper","m","SelectMenuClearButton","Tag","SelectMenuItem","SelectMenuStaticItem","SelectMenuContext","reducer","state","event","type","page","selectedOptions","value","Array","isArray","searchText","options","filteredOptions","useProps","props","_ref","themeKey","buttonProps","cacheKey","disabled","disableClear","dropdownMenuInitialState","emptyText","errorText","loadingText","loadingMoreText","popoverProps","hasSearch","hasTags","itemProps","isDropdown","isLoading","isMultiSelect","limit","loadOptions","loadVariables","onChange","initialOptions","overrides","pagination","Disclosure","renderDisclosure","Empty","renderEmpty","Error","renderError","Loading","renderLoading","LoadingMore","renderLoadingMore","Option","renderOption","searchInputProps","placeholder","fieldState","tagProps","restProps","boxProps","dropdownMenu","loop","gutter","_React$useState","blockLoad","setBlockLoad","_React$useState2","defer","setDefer","className","style","styleProps","prevClassName","dropdownMenuPopoverClassName","themeKeySuffix","selectMenuItemsWrapperClassName","_React$useReducer","_React$useReducer$","selectedIndexes","dispatch","debouncedInputValue","getOptions","_ref2","_ref2$searchText","variables","then","_ref3","fetchedOptions","newOptions","concat","length","Promise","res","undefined","optionsRecord","visibleOptions","slice","filter","option","includes","isLoadingMore","isPending","isIdle","isResolved","isRejected","filterOptions","_ref4","label","toLowerCase","trim","handleClickItem","_ref5","_newOptions","some","selectedOption","key","_newOptions2","handleClickButton","load","handleChangeInput","target","handleClearTag","_ref6","handleClearOptions","stopPropagation","handleScrollPopover","currentTarget","scrollHeight","offsetHeight","scrollTop","visible","_optionsRecord$respon","_optionsRecord$respon2","_options","response","context","EmptyStaticItem","onClick","hide","EmptyItem","MenuWrapper","children","Provider","SelectMenuButton","onClear","role","SelectMenuSearchInput","SelectMenuTags","onClearTag","use","onScroll","map","index","iconAfter","iconAfterProps","iconBefore","iconBeforeProps","hideOnClick","MatchedLabel","_MatchedLabel","StaticItem","Item","defaultProps","popoverHeight","SelectMenu","selectMenuProps","component","htmlProps","attach","displayName","_React$useContext","buttonClassName","buttonTextClassName","iconsWrapperClassName","iconClassName","dropdownMenuButtonProps","_selectedOptions$","_selectedOptions$2","disclosureProps","ClearButton","color","size","icon","_React$useContext2","searchInputWrapperClassName","searchInputClassName","_React$useContext3","tagsWrapperClassName","spacing","palette","onRemove","_React$useContext4","escapeStringRegexp","string","replace","match","RegExp","preText","highlightedText","postText","fontWeight","display","alignItems","marginLeft","_React$useContext5","wrapperClassName","Close","iconProps","fontSize","onMouseDown","preventDefault"],"mappings":"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","sourcesContent":["import { createContext, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport 'emotion';\nimport '@emotion/core';\nimport 'emotion-theming';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport '../utils/useLocalStorage.js';\nimport { d as _objectWithoutPropertiesLoose, _ as _objectSpread2, c as _extends } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/colors.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport 'conditional-wrap';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuPopover, c as SelectMenuItemsWrapper, d as SelectMenuButton$1, e as SelectMenuButtonText, f as SelectMenuButtonIconsWrapper, g as SelectMenuButtonIcon, h as SelectMenuSearchInputWrapper, i as SelectMenuSearchInput$1, j as SelectMenuTagsWrapper, k as SelectMenuItemText, l as SelectMenuClearButtonWrapper, m as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\n\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      onChange = props.onChange,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      Disclosure = props.renderDisclosure,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      tagProps = props.tagProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"limit\", \"loadOptions\", \"loadVariables\", \"onChange\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"searchInputProps\", \"placeholder\", \"state\", \"tagProps\", \"value\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback(function (_ref2) {\n    var loadVariables = _ref2.loadVariables,\n        page = _ref2.page,\n        _ref2$searchText = _ref2.searchText,\n        searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n    if (typeof loadOptions === 'function') {\n      if (blockLoad) return {\n        options: options\n      };\n      return loadOptions({\n        page: page,\n        searchText: searchText,\n        variables: loadVariables\n      }).then(function (_ref3) {\n        var fetchedOptions = _ref3.options;\n        var newOptions = [].concat(options, fetchedOptions);\n\n        if (page === 1) {\n          newOptions = fetchedOptions;\n        }\n\n        if (page > 1 && fetchedOptions.length === 0) {\n          setBlockLoad(true);\n        }\n\n        return {\n          options: newOptions\n        };\n      });\n    }\n\n    return new Promise(function (res) {\n      return res(undefined);\n    });\n  }, [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref4) {\n    var searchText = _ref4.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref5) {\n    var option = _ref5.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n  }, [defer, optionsRecord]);\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n    }\n  }, [dropdownMenu.visible, handleChangeInput]);\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      selectedOptions: selectedOptions,\n      state: fieldState,\n      Disclosure: Disclosure\n    }, buttonProps)), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }))) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      Disclosure = props.Disclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"isLoading\", \"onClick\", \"onClear\", \"Disclosure\", \"selectedOptions\", \"placeholder\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (Disclosure) {\n    return /*#__PURE__*/createElement$1(Disclosure, {\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };\n"]},"metadata":{},"sourceType":"module"}