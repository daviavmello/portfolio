{"ast":null,"code":"import _regeneratorRuntime from \"/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { createContext, useRef, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport '@emotion/css';\nimport '@emotion/react';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport 'conditional-wrap';\nimport '../utils/useLocalStorage.js';\nimport { b as _objectWithoutPropertiesLoose, _ as _objectSpread2, d as _extends, e as _asyncToGenerator } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport { useLabelPlaceholder } from '../utils/useLabelPlaceholder.js';\nimport '../utils/parseIcons.js';\nimport '../utils/useIcon.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport 'lodash/get';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '../utils/gradient.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuButtonWrapper, c as SelectMenuPopover, d as SelectMenuItemsWrapper, e as SelectMenuLabelWrapper, f as SelectMenuLabelWrapperBackground, g as SelectMenuButton$1, h as SelectMenuButtonText, i as SelectMenuButtonIconsWrapper, j as SelectMenuButtonIcon, k as SelectMenuSearchInputWrapper, l as SelectMenuSearchInput$1, m as SelectMenuTagsWrapper, n as SelectMenuItemText, o as SelectMenuClearButtonWrapper, p as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      containLabel = props.containLabel,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      label = props.label,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      renderDisclosure = props.renderDisclosure,\n      renderBottomActions = props.renderBottomActions,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      renderTopActions = props.renderTopActions,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      size = props.size,\n      tagProps = props.tagProps,\n      value = props.value,\n      variant = props.variant,\n      _onChange = props.onChange,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"containLabel\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"label\", \"limit\", \"loadOptions\", \"loadVariables\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderBottomActions\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"renderTopActions\", \"searchInputProps\", \"placeholder\", \"state\", \"size\", \"tagProps\", \"value\", \"variant\", \"onChange\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var buttonRef = useRef(); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var _useLabelPlaceholder = useLabelPlaceholder(_objectSpread2({\n    enabled: Boolean(label),\n    useValue: true,\n    onBlur: null,\n    onFocus: null,\n    onChange: _onChange\n  }, props)),\n      isFocused = _useLabelPlaceholder.isFocused,\n      _useLabelPlaceholder$ = _useLabelPlaceholder.inputProps,\n      onBlur = _useLabelPlaceholder$.onBlur,\n      onChange = _useLabelPlaceholder$.onChange,\n      onFocus = _useLabelPlaceholder$.onFocus; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var wrapperClassName = useClassName({\n    style: SelectMenuButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonWrapper'\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var labelWrapperClassName = useClassName({\n    style: SelectMenuLabelWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapper'\n  });\n  var labelWrapperBackgroundClassName = useClassName({\n    style: SelectMenuLabelWrapperBackground,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapperBackground'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n      var loadVariables, page, _ref2$searchText, searchText;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loadVariables = _ref2.loadVariables, page = _ref2.page, _ref2$searchText = _ref2.searchText, searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n              if (!(typeof loadOptions === 'function')) {\n                _context.next = 5;\n                break;\n              }\n\n              if (!blockLoad) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res({\n                  options: options\n                });\n              }));\n\n            case 4:\n              return _context.abrupt(\"return\", loadOptions({\n                page: page,\n                searchText: searchText,\n                variables: loadVariables\n              }).then(function (_ref4) {\n                var fetchedOptions = _ref4.options;\n                var newOptions = [].concat(options, fetchedOptions);\n\n                if (page === 1) {\n                  newOptions = fetchedOptions;\n                }\n\n                if (page > 1 && fetchedOptions.length === 0) {\n                  setBlockLoad(true);\n                }\n\n                return {\n                  options: newOptions\n                };\n              }));\n\n            case 5:\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res(undefined);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref5) {\n    var searchText = _ref5.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n\n    onFocus({});\n  }, [defer, optionsRecord]); // eslint-disable-line\n\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref7) {\n    var option = _ref7.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n      onBlur({});\n    }\n  }, [dropdownMenu.visible, handleChangeInput]); // eslint-disable-line\n\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var ActionsStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        props.hideDropdownOnClick && dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(Box$1, {\n      className: wrapperClassName\n    }, label && /*#__PURE__*/createElement$1(Fragment, null, !containLabel && /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperBackgroundClassName\n    }, /*#__PURE__*/createElement$1(Text, {\n      opacity: \"0\"\n    }, label)), /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperClassName,\n      onClick: function onClick() {\n        var _buttonRef$current;\n\n        return (_buttonRef$current = buttonRef.current) === null || _buttonRef$current === void 0 ? void 0 : _buttonRef$current.focus();\n      }\n    }, /*#__PURE__*/createElement$1(Text, null, label))), /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      elementRef: buttonRef,\n      containLabel: containLabel,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      renderDisclosure: renderDisclosure,\n      selectedOptions: selectedOptions,\n      size: size,\n      state: fieldState,\n      variant: variant,\n      value: value\n    }, buttonProps))), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps,\n      autoFocus: isDropdown\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), renderTopActions && renderTopActions({\n      StaticItem: ActionsStaticItem\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    })), renderBottomActions && renderBottomActions({\n      StaticItem: ActionsStaticItem\n    })) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderBottomActions: function renderBottomActions() {},\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel,\n    renderTopActions: function renderTopActions() {},\n    variant: 'bordered'\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      elementRef = props.elementRef,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      renderDisclosure = props.renderDisclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"elementRef\", \"isLoading\", \"onClick\", \"onClear\", \"renderDisclosure\", \"selectedOptions\", \"placeholder\", \"variant\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var color = 'text';\n\n  if (!selectedOptions || selectedOptions.length === 0) {\n    color = 'gray300';\n  }\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides,\n      disabled: disabled,\n      variant: variant,\n      isSelected: selectedOptions.length > 0\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      color: color,\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    elementRef: elementRef,\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (renderDisclosure) {\n    return renderDisclosure({\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var autoFocus = props.autoFocus,\n      onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"autoFocus\", \"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value,\n    autoFocus: autoFocus\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"normal\",\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"normal\",\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    fontWeight: \"normal\",\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/bumbag/es/SelectMenu/SelectMenu.js"],"names":["createContext","useRef","useState","useReducer","useEffect","useCallback","useMemo","createElement","createElement$1","Fragment","useContext","b","_objectWithoutPropertiesLoose","_","_objectSpread2","d","_extends","e","_asyncToGenerator","useLabelPlaceholder","useDebounce","useClassName","createComponent","createHook","Box","Box$1","Icon","Text","Spinner","Button","Set","useLoads","Input","DropdownMenuButton","DropdownMenuPopover","DropdownMenu","Menu","a","SelectMenu$1","SelectMenuButtonWrapper","c","SelectMenuPopover","SelectMenuItemsWrapper","SelectMenuLabelWrapper","f","SelectMenuLabelWrapperBackground","g","SelectMenuButton$1","h","SelectMenuButtonText","i","SelectMenuButtonIconsWrapper","j","SelectMenuButtonIcon","k","SelectMenuSearchInputWrapper","l","SelectMenuSearchInput$1","m","SelectMenuTagsWrapper","n","SelectMenuItemText","o","SelectMenuClearButtonWrapper","p","SelectMenuClearButton","Tag","SelectMenuItem","SelectMenuStaticItem","SelectMenuContext","reducer","state","event","type","page","selectedOptions","value","Array","isArray","searchText","options","filteredOptions","useProps","props","_ref","themeKey","buttonProps","cacheKey","containLabel","disabled","disableClear","dropdownMenuInitialState","emptyText","errorText","loadingText","loadingMoreText","popoverProps","hasSearch","hasTags","itemProps","isDropdown","isLoading","isMultiSelect","label","limit","loadOptions","loadVariables","initialOptions","overrides","pagination","renderDisclosure","renderBottomActions","Empty","renderEmpty","Error","renderError","Loading","renderLoading","LoadingMore","renderLoadingMore","Option","renderOption","renderTopActions","searchInputProps","placeholder","fieldState","size","tagProps","variant","_onChange","onChange","restProps","boxProps","buttonRef","dropdownMenu","loop","gutter","_React$useState","blockLoad","setBlockLoad","_React$useState2","defer","setDefer","_useLabelPlaceholder","enabled","Boolean","useValue","onBlur","onFocus","isFocused","_useLabelPlaceholder$","inputProps","className","style","styleProps","prevClassName","wrapperClassName","visible","themeKeySuffix","dropdownMenuPopoverClassName","selectMenuItemsWrapperClassName","labelWrapperClassName","labelWrapperBackgroundClassName","_React$useReducer","_React$useReducer$","selectedIndexes","dispatch","debouncedInputValue","getOptions","_ref3","mark","_callee","_ref2","_ref2$searchText","wrap","_callee$","_context","prev","next","abrupt","Promise","res","variables","then","_ref4","fetchedOptions","newOptions","concat","length","undefined","stop","_x","apply","arguments","optionsRecord","visibleOptions","slice","filter","option","includes","isLoadingMore","isPending","isIdle","isResolved","isRejected","filterOptions","_ref5","toLowerCase","trim","handleClickItem","_ref6","_newOptions","some","selectedOption","key","_newOptions2","handleClickButton","load","handleChangeInput","target","handleClearTag","_ref7","handleClearOptions","stopPropagation","handleScrollPopover","currentTarget","scrollHeight","offsetHeight","scrollTop","_optionsRecord$respon","_optionsRecord$respon2","_options","response","context","EmptyStaticItem","onClick","hide","EmptyItem","ActionsStaticItem","hideDropdownOnClick","MenuWrapper","children","Provider","opacity","_buttonRef$current","current","focus","SelectMenuButton","elementRef","onClear","role","SelectMenuSearchInput","autoFocus","SelectMenuTags","onClearTag","StaticItem","use","onScroll","map","index","iconAfter","iconAfterProps","iconBefore","iconBeforeProps","hideOnClick","MatchedLabel","_MatchedLabel","Item","defaultProps","popoverHeight","SelectMenu","selectMenuProps","component","htmlProps","attach","displayName","_React$useContext","color","buttonClassName","isSelected","buttonTextClassName","iconsWrapperClassName","iconClassName","dropdownMenuButtonProps","_selectedOptions$","_selectedOptions$2","disclosureProps","ClearButton","icon","_React$useContext2","searchInputWrapperClassName","searchInputClassName","_React$useContext3","tagsWrapperClassName","spacing","palette","onRemove","_React$useContext4","escapeStringRegexp","string","replace","match","RegExp","preText","highlightedText","postText","fontWeight","display","alignItems","marginLeft","_React$useContext5","Close","iconProps","fontSize","onMouseDown","preventDefault"],"mappings":"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","sourcesContent":["import { createContext, useRef, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport '@emotion/css';\nimport '@emotion/react';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport 'conditional-wrap';\nimport '../utils/useLocalStorage.js';\nimport { b as _objectWithoutPropertiesLoose, _ as _objectSpread2, d as _extends, e as _asyncToGenerator } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport { useLabelPlaceholder } from '../utils/useLabelPlaceholder.js';\nimport '../utils/parseIcons.js';\nimport '../utils/useIcon.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport 'lodash/get';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '../utils/gradient.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuButtonWrapper, c as SelectMenuPopover, d as SelectMenuItemsWrapper, e as SelectMenuLabelWrapper, f as SelectMenuLabelWrapperBackground, g as SelectMenuButton$1, h as SelectMenuButtonText, i as SelectMenuButtonIconsWrapper, j as SelectMenuButtonIcon, k as SelectMenuSearchInputWrapper, l as SelectMenuSearchInput$1, m as SelectMenuTagsWrapper, n as SelectMenuItemText, o as SelectMenuClearButtonWrapper, p as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\n\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      containLabel = props.containLabel,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      label = props.label,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      renderDisclosure = props.renderDisclosure,\n      renderBottomActions = props.renderBottomActions,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      renderTopActions = props.renderTopActions,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      size = props.size,\n      tagProps = props.tagProps,\n      value = props.value,\n      variant = props.variant,\n      _onChange = props.onChange,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"containLabel\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"label\", \"limit\", \"loadOptions\", \"loadVariables\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderBottomActions\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"renderTopActions\", \"searchInputProps\", \"placeholder\", \"state\", \"size\", \"tagProps\", \"value\", \"variant\", \"onChange\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var buttonRef = useRef(); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var _useLabelPlaceholder = useLabelPlaceholder(_objectSpread2({\n    enabled: Boolean(label),\n    useValue: true,\n    onBlur: null,\n    onFocus: null,\n    onChange: _onChange\n  }, props)),\n      isFocused = _useLabelPlaceholder.isFocused,\n      _useLabelPlaceholder$ = _useLabelPlaceholder.inputProps,\n      onBlur = _useLabelPlaceholder$.onBlur,\n      onChange = _useLabelPlaceholder$.onChange,\n      onFocus = _useLabelPlaceholder$.onFocus; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var wrapperClassName = useClassName({\n    style: SelectMenuButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonWrapper'\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var labelWrapperClassName = useClassName({\n    style: SelectMenuLabelWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapper'\n  });\n  var labelWrapperBackgroundClassName = useClassName({\n    style: SelectMenuLabelWrapperBackground,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapperBackground'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n      var loadVariables, page, _ref2$searchText, searchText;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loadVariables = _ref2.loadVariables, page = _ref2.page, _ref2$searchText = _ref2.searchText, searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n              if (!(typeof loadOptions === 'function')) {\n                _context.next = 5;\n                break;\n              }\n\n              if (!blockLoad) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res({\n                  options: options\n                });\n              }));\n\n            case 4:\n              return _context.abrupt(\"return\", loadOptions({\n                page: page,\n                searchText: searchText,\n                variables: loadVariables\n              }).then(function (_ref4) {\n                var fetchedOptions = _ref4.options;\n                var newOptions = [].concat(options, fetchedOptions);\n\n                if (page === 1) {\n                  newOptions = fetchedOptions;\n                }\n\n                if (page > 1 && fetchedOptions.length === 0) {\n                  setBlockLoad(true);\n                }\n\n                return {\n                  options: newOptions\n                };\n              }));\n\n            case 5:\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res(undefined);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref5) {\n    var searchText = _ref5.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n\n    onFocus({});\n  }, [defer, optionsRecord]); // eslint-disable-line\n\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref7) {\n    var option = _ref7.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n      onBlur({});\n    }\n  }, [dropdownMenu.visible, handleChangeInput]); // eslint-disable-line\n\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var ActionsStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        props.hideDropdownOnClick && dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(Box$1, {\n      className: wrapperClassName\n    }, label && /*#__PURE__*/createElement$1(Fragment, null, !containLabel && /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperBackgroundClassName\n    }, /*#__PURE__*/createElement$1(Text, {\n      opacity: \"0\"\n    }, label)), /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperClassName,\n      onClick: function onClick() {\n        var _buttonRef$current;\n\n        return (_buttonRef$current = buttonRef.current) === null || _buttonRef$current === void 0 ? void 0 : _buttonRef$current.focus();\n      }\n    }, /*#__PURE__*/createElement$1(Text, null, label))), /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      elementRef: buttonRef,\n      containLabel: containLabel,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      renderDisclosure: renderDisclosure,\n      selectedOptions: selectedOptions,\n      size: size,\n      state: fieldState,\n      variant: variant,\n      value: value\n    }, buttonProps))), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps,\n      autoFocus: isDropdown\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), renderTopActions && renderTopActions({\n      StaticItem: ActionsStaticItem\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    })), renderBottomActions && renderBottomActions({\n      StaticItem: ActionsStaticItem\n    })) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderBottomActions: function renderBottomActions() {},\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel,\n    renderTopActions: function renderTopActions() {},\n    variant: 'bordered'\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      elementRef = props.elementRef,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      renderDisclosure = props.renderDisclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"elementRef\", \"isLoading\", \"onClick\", \"onClear\", \"renderDisclosure\", \"selectedOptions\", \"placeholder\", \"variant\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var color = 'text';\n\n  if (!selectedOptions || selectedOptions.length === 0) {\n    color = 'gray300';\n  }\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides,\n      disabled: disabled,\n      variant: variant,\n      isSelected: selectedOptions.length > 0\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      color: color,\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    elementRef: elementRef,\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (renderDisclosure) {\n    return renderDisclosure({\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var autoFocus = props.autoFocus,\n      onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"autoFocus\", \"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value,\n    autoFocus: autoFocus\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"normal\",\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"normal\",\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    fontWeight: \"normal\",\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };\n"]},"metadata":{},"sourceType":"module"}