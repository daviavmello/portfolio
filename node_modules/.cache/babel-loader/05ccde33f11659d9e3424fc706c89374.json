{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2, b as _createForOfIteratorHelperLoose } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useMemo, useEffect, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { warning } from 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport { isPortalEvent } from 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport { useClickable } from '../Clickable/Clickable.js';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { g as getCurrentId } from '../getCurrentId-5aa9849e.js';\nimport { b as COMPOSITE_ITEM_KEYS } from '../__keys-6742f591.js';\nimport { u as userFocus, s as setUserFocus, h as hasUserFocus } from '../userFocus-e16425e3.js';\nimport { isTextField } from 'reakit-utils/isTextField';\nimport { ensureFocus } from 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport { unstable_useId } from '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport { s as setTextFieldValue } from '../setTextFieldValue-0a221f4e.js';\n\nfunction getWidget(itemElement) {\n  return itemElement.querySelector(\"[data-composite-item-widget]\");\n}\n\nfunction useItem(options) {\n  return useMemo(function () {\n    var _options$items;\n\n    return (_options$items = options.items) === null || _options$items === void 0 ? void 0 : _options$items.find(function (item) {\n      return options.id && item.id === options.id;\n    });\n  }, [options.items, options.id]);\n}\n\nfunction targetIsAnotherItem(event, items) {\n  if (isSelfTarget(event)) return false;\n\n  for (var _iterator = _createForOfIteratorHelperLoose(items), _step; !(_step = _iterator()).done;) {\n    var item = _step.value;\n\n    if (item.ref.current === event.target) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar useCompositeItem = createHook({\n  name: \"CompositeItem\",\n  compose: [useClickable, unstable_useId],\n  keys: COMPOSITE_ITEM_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    if (!next.id || prev.id !== next.id) {\n      return useClickable.unstable_propsAreEqual(prev, next);\n    }\n\n    var prevCurrentId = prev.currentId,\n        prevMoves = prev.unstable_moves,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"currentId\", \"unstable_moves\"]);\n\n    var nextCurrentId = next.currentId,\n        nextMoves = next.unstable_moves,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"currentId\", \"unstable_moves\"]);\n\n    if (nextCurrentId !== prevCurrentId) {\n      if (next.id === nextCurrentId || next.id === prevCurrentId) {\n        return false;\n      }\n    } else if (prevMoves !== nextMoves) {\n      return false;\n    }\n\n    return useClickable.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useOptions: function useOptions(options) {\n    return _objectSpread2(_objectSpread2({}, options), {}, {\n      id: options.id,\n      currentId: getCurrentId(options),\n      unstable_clickOnSpace: options.unstable_hasActiveWidget ? false : options.unstable_clickOnSpace\n    });\n  },\n  useProps: function useProps(options, _ref) {\n    var _options$items2;\n\n    var htmlRef = _ref.ref,\n        _ref$tabIndex = _ref.tabIndex,\n        htmlTabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n        htmlOnMouseDown = _ref.onMouseDown,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnBlurCapture = _ref.onBlurCapture,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnClick = _ref.onClick,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"tabIndex\", \"onMouseDown\", \"onFocus\", \"onBlurCapture\", \"onKeyDown\", \"onClick\"]);\n\n    var ref = useRef(null);\n    var id = options.id;\n    var trulyDisabled = options.disabled && !options.focusable;\n    var isCurrentItem = options.currentId === id;\n    var isCurrentItemRef = useLiveRef(isCurrentItem);\n    var hasFocusedComposite = useRef(false);\n    var item = useItem(options);\n    var onMouseDownRef = useLiveRef(htmlOnMouseDown);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurCaptureRef = useLiveRef(htmlOnBlurCapture);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onClickRef = useLiveRef(htmlOnClick);\n    var shouldTabIndex = !options.unstable_virtual && !options.unstable_hasActiveWidget && isCurrentItem || // We don't want to set tabIndex=\"-1\" when using CompositeItem as a\n    // standalone component, without state props.\n    !((_options$items2 = options.items) === null || _options$items2 === void 0 ? void 0 : _options$items2.length);\n    useEffect(function () {\n      var _options$registerItem;\n\n      if (!id) return undefined;\n      (_options$registerItem = options.registerItem) === null || _options$registerItem === void 0 ? void 0 : _options$registerItem.call(options, {\n        id: id,\n        ref: ref,\n        disabled: !!trulyDisabled\n      });\n      return function () {\n        var _options$unregisterIt;\n\n        (_options$unregisterIt = options.unregisterItem) === null || _options$unregisterIt === void 0 ? void 0 : _options$unregisterIt.call(options, id);\n      };\n    }, [id, trulyDisabled, options.registerItem, options.unregisterItem]);\n    useEffect(function () {\n      var element = ref.current;\n\n      if (!element) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Can't focus composite item component because `ref` wasn't passed to component.\", \"See https://reakit.io/docs/composite\") : void 0;\n        return;\n      } // `moves` will be incremented whenever next, previous, up, down, first,\n      // last or move have been called. This means that the composite item will\n      // be focused whenever some of these functions are called. We're using\n      // isCurrentItemRef instead of isCurrentItem because we don't want to\n      // focus the item if isCurrentItem changes (and options.moves doesn't).\n\n\n      if (options.unstable_moves && isCurrentItemRef.current) {\n        userFocus(element);\n      }\n    }, [options.unstable_moves]);\n    var onMouseDown = useCallback(function (event) {\n      var _onMouseDownRef$curre;\n\n      (_onMouseDownRef$curre = onMouseDownRef.current) === null || _onMouseDownRef$curre === void 0 ? void 0 : _onMouseDownRef$curre.call(onMouseDownRef, event);\n      setUserFocus(event.currentTarget, true);\n    }, []);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$setCurrentId;\n\n      var shouldFocusComposite = hasUserFocus(event.currentTarget);\n      setUserFocus(event.currentTarget, false);\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (isPortalEvent(event)) return;\n      if (!id) return;\n      if (targetIsAnotherItem(event, options.items)) return;\n      (_options$setCurrentId = options.setCurrentId) === null || _options$setCurrentId === void 0 ? void 0 : _options$setCurrentId.call(options, id); // When using aria-activedescendant, we want to make sure that the\n      // composite container receives focus, not the composite item.\n      // But we don't want to do this if the target is another focusable\n      // element inside the composite item, such as CompositeItemWidget.\n\n      if (shouldFocusComposite && options.unstable_virtual && options.baseId && isSelfTarget(event)) {\n        var target = event.target;\n        var composite = getDocument(target).getElementById(options.baseId);\n\n        if (composite) {\n          hasFocusedComposite.current = true;\n          ensureFocus(composite);\n        }\n      }\n    }, [id, options.items, options.setCurrentId, options.unstable_virtual, options.baseId]);\n    var onBlurCapture = useCallback(function (event) {\n      var _onBlurCaptureRef$cur;\n\n      (_onBlurCaptureRef$cur = onBlurCaptureRef.current) === null || _onBlurCaptureRef$cur === void 0 ? void 0 : _onBlurCaptureRef$cur.call(onBlurCaptureRef, event);\n      if (event.defaultPrevented) return;\n\n      if (options.unstable_virtual && hasFocusedComposite.current) {\n        // When hasFocusedComposite is true, composite has been focused right\n        // after focusing this item. This is an intermediate blur event, so\n        // we ignore it.\n        hasFocusedComposite.current = false;\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }, [options.unstable_virtual]);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      if (!isSelfTarget(event)) return;\n      var isVertical = options.orientation !== \"horizontal\";\n      var isHorizontal = options.orientation !== \"vertical\";\n      var isGrid = !!(item === null || item === void 0 ? void 0 : item.groupId);\n      var keyMap = {\n        ArrowUp: (isGrid || isVertical) && options.up,\n        ArrowRight: (isGrid || isHorizontal) && options.next,\n        ArrowDown: (isGrid || isVertical) && options.down,\n        ArrowLeft: (isGrid || isHorizontal) && options.previous,\n        Home: function Home() {\n          if (!isGrid || event.ctrlKey) {\n            var _options$first;\n\n            (_options$first = options.first) === null || _options$first === void 0 ? void 0 : _options$first.call(options);\n          } else {\n            var _options$previous;\n\n            (_options$previous = options.previous) === null || _options$previous === void 0 ? void 0 : _options$previous.call(options, true);\n          }\n        },\n        End: function End() {\n          if (!isGrid || event.ctrlKey) {\n            var _options$last;\n\n            (_options$last = options.last) === null || _options$last === void 0 ? void 0 : _options$last.call(options);\n          } else {\n            var _options$next;\n\n            (_options$next = options.next) === null || _options$next === void 0 ? void 0 : _options$next.call(options, true);\n          }\n        },\n        PageUp: function PageUp() {\n          if (isGrid) {\n            var _options$up;\n\n            (_options$up = options.up) === null || _options$up === void 0 ? void 0 : _options$up.call(options, true);\n          } else {\n            var _options$first2;\n\n            (_options$first2 = options.first) === null || _options$first2 === void 0 ? void 0 : _options$first2.call(options);\n          }\n        },\n        PageDown: function PageDown() {\n          if (isGrid) {\n            var _options$down;\n\n            (_options$down = options.down) === null || _options$down === void 0 ? void 0 : _options$down.call(options, true);\n          } else {\n            var _options$last2;\n\n            (_options$last2 = options.last) === null || _options$last2 === void 0 ? void 0 : _options$last2.call(options);\n          }\n        }\n      };\n      var action = keyMap[event.key];\n\n      if (action) {\n        event.preventDefault();\n        action();\n        return;\n      }\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (event.defaultPrevented) return;\n\n      if (event.key.length === 1 && event.key !== \" \") {\n        var widget = getWidget(event.currentTarget);\n\n        if (widget && isTextField(widget)) {\n          widget.focus();\n          setTextFieldValue(widget, \"\");\n        }\n      } else if (event.key === \"Delete\" || event.key === \"Backspace\") {\n        var _widget = getWidget(event.currentTarget);\n\n        if (_widget && isTextField(_widget)) {\n          event.preventDefault();\n          setTextFieldValue(_widget, \"\");\n        }\n      }\n    }, [options.orientation, item, options.up, options.next, options.down, options.previous, options.first, options.last]);\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return;\n      var element = event.currentTarget;\n      var widget = getWidget(element);\n\n      if (widget && !hasFocusWithin(widget)) {\n        // If there's a widget inside the composite item, we make sure it's\n        // focused when pressing enter, space or clicking on the composite item.\n        widget.focus();\n      }\n    }, []);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      id: id,\n      tabIndex: shouldTabIndex ? htmlTabIndex : -1,\n      \"aria-selected\": options.unstable_virtual && isCurrentItem ? true : undefined,\n      onMouseDown: onMouseDown,\n      onFocus: onFocus,\n      onBlurCapture: onBlurCapture,\n      onKeyDown: onKeyDown,\n      onClick: onClick\n    }, htmlProps);\n  }\n});\nvar CompositeItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useCompositeItem\n});\nexport { CompositeItem, useCompositeItem };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio-react/node_modules/reakit/es/Composite/CompositeItem.js"],"names":["_","_objectWithoutPropertiesLoose","a","_objectSpread2","b","_createForOfIteratorHelperLoose","createComponent","createHook","useRef","useMemo","useEffect","useCallback","useForkRef","warning","useLiveRef","isSelfTarget","hasFocusWithin","isPortalEvent","useClickable","getDocument","g","getCurrentId","COMPOSITE_ITEM_KEYS","u","userFocus","s","setUserFocus","h","hasUserFocus","isTextField","ensureFocus","unstable_useId","setTextFieldValue","getWidget","itemElement","querySelector","useItem","options","_options$items","items","find","item","id","targetIsAnotherItem","event","_iterator","_step","done","value","ref","current","target","useCompositeItem","name","compose","keys","propsAreEqual","prev","next","unstable_propsAreEqual","prevCurrentId","currentId","prevMoves","unstable_moves","prevProps","nextCurrentId","nextMoves","nextProps","useOptions","unstable_clickOnSpace","unstable_hasActiveWidget","useProps","_ref","_options$items2","htmlRef","_ref$tabIndex","tabIndex","htmlTabIndex","htmlOnMouseDown","onMouseDown","htmlOnFocus","onFocus","htmlOnBlurCapture","onBlurCapture","htmlOnKeyDown","onKeyDown","htmlOnClick","onClick","htmlProps","trulyDisabled","disabled","focusable","isCurrentItem","isCurrentItemRef","hasFocusedComposite","onMouseDownRef","onFocusRef","onBlurCaptureRef","onKeyDownRef","onClickRef","shouldTabIndex","unstable_virtual","length","_options$registerItem","undefined","registerItem","call","_options$unregisterIt","unregisterItem","element","process","env","NODE_ENV","_onMouseDownRef$curre","currentTarget","_onFocusRef$current","_options$setCurrentId","shouldFocusComposite","defaultPrevented","setCurrentId","baseId","composite","getElementById","_onBlurCaptureRef$cur","preventDefault","stopPropagation","_onKeyDownRef$current","isVertical","orientation","isHorizontal","isGrid","groupId","keyMap","ArrowUp","up","ArrowRight","ArrowDown","down","ArrowLeft","previous","Home","ctrlKey","_options$first","first","_options$previous","End","_options$last","last","_options$next","PageUp","_options$up","_options$first2","PageDown","_options$down","_options$last2","action","key","widget","focus","_widget","_onClickRef$current","CompositeItem","as","memo","useHook"],"mappings":"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","sourcesContent":["import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2, b as _createForOfIteratorHelperLoose } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useMemo, useEffect, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { warning } from 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport { isPortalEvent } from 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport { useClickable } from '../Clickable/Clickable.js';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { g as getCurrentId } from '../getCurrentId-5aa9849e.js';\nimport { b as COMPOSITE_ITEM_KEYS } from '../__keys-6742f591.js';\nimport { u as userFocus, s as setUserFocus, h as hasUserFocus } from '../userFocus-e16425e3.js';\nimport { isTextField } from 'reakit-utils/isTextField';\nimport { ensureFocus } from 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport { unstable_useId } from '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport { s as setTextFieldValue } from '../setTextFieldValue-0a221f4e.js';\n\nfunction getWidget(itemElement) {\n  return itemElement.querySelector(\"[data-composite-item-widget]\");\n}\n\nfunction useItem(options) {\n  return useMemo(function () {\n    var _options$items;\n\n    return (_options$items = options.items) === null || _options$items === void 0 ? void 0 : _options$items.find(function (item) {\n      return options.id && item.id === options.id;\n    });\n  }, [options.items, options.id]);\n}\n\nfunction targetIsAnotherItem(event, items) {\n  if (isSelfTarget(event)) return false;\n\n  for (var _iterator = _createForOfIteratorHelperLoose(items), _step; !(_step = _iterator()).done;) {\n    var item = _step.value;\n\n    if (item.ref.current === event.target) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar useCompositeItem = createHook({\n  name: \"CompositeItem\",\n  compose: [useClickable, unstable_useId],\n  keys: COMPOSITE_ITEM_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    if (!next.id || prev.id !== next.id) {\n      return useClickable.unstable_propsAreEqual(prev, next);\n    }\n\n    var prevCurrentId = prev.currentId,\n        prevMoves = prev.unstable_moves,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"currentId\", \"unstable_moves\"]);\n\n    var nextCurrentId = next.currentId,\n        nextMoves = next.unstable_moves,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"currentId\", \"unstable_moves\"]);\n\n    if (nextCurrentId !== prevCurrentId) {\n      if (next.id === nextCurrentId || next.id === prevCurrentId) {\n        return false;\n      }\n    } else if (prevMoves !== nextMoves) {\n      return false;\n    }\n\n    return useClickable.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useOptions: function useOptions(options) {\n    return _objectSpread2(_objectSpread2({}, options), {}, {\n      id: options.id,\n      currentId: getCurrentId(options),\n      unstable_clickOnSpace: options.unstable_hasActiveWidget ? false : options.unstable_clickOnSpace\n    });\n  },\n  useProps: function useProps(options, _ref) {\n    var _options$items2;\n\n    var htmlRef = _ref.ref,\n        _ref$tabIndex = _ref.tabIndex,\n        htmlTabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n        htmlOnMouseDown = _ref.onMouseDown,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnBlurCapture = _ref.onBlurCapture,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnClick = _ref.onClick,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"tabIndex\", \"onMouseDown\", \"onFocus\", \"onBlurCapture\", \"onKeyDown\", \"onClick\"]);\n\n    var ref = useRef(null);\n    var id = options.id;\n    var trulyDisabled = options.disabled && !options.focusable;\n    var isCurrentItem = options.currentId === id;\n    var isCurrentItemRef = useLiveRef(isCurrentItem);\n    var hasFocusedComposite = useRef(false);\n    var item = useItem(options);\n    var onMouseDownRef = useLiveRef(htmlOnMouseDown);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurCaptureRef = useLiveRef(htmlOnBlurCapture);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onClickRef = useLiveRef(htmlOnClick);\n    var shouldTabIndex = !options.unstable_virtual && !options.unstable_hasActiveWidget && isCurrentItem || // We don't want to set tabIndex=\"-1\" when using CompositeItem as a\n    // standalone component, without state props.\n    !((_options$items2 = options.items) === null || _options$items2 === void 0 ? void 0 : _options$items2.length);\n    useEffect(function () {\n      var _options$registerItem;\n\n      if (!id) return undefined;\n      (_options$registerItem = options.registerItem) === null || _options$registerItem === void 0 ? void 0 : _options$registerItem.call(options, {\n        id: id,\n        ref: ref,\n        disabled: !!trulyDisabled\n      });\n      return function () {\n        var _options$unregisterIt;\n\n        (_options$unregisterIt = options.unregisterItem) === null || _options$unregisterIt === void 0 ? void 0 : _options$unregisterIt.call(options, id);\n      };\n    }, [id, trulyDisabled, options.registerItem, options.unregisterItem]);\n    useEffect(function () {\n      var element = ref.current;\n\n      if (!element) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Can't focus composite item component because `ref` wasn't passed to component.\", \"See https://reakit.io/docs/composite\") : void 0;\n        return;\n      } // `moves` will be incremented whenever next, previous, up, down, first,\n      // last or move have been called. This means that the composite item will\n      // be focused whenever some of these functions are called. We're using\n      // isCurrentItemRef instead of isCurrentItem because we don't want to\n      // focus the item if isCurrentItem changes (and options.moves doesn't).\n\n\n      if (options.unstable_moves && isCurrentItemRef.current) {\n        userFocus(element);\n      }\n    }, [options.unstable_moves]);\n    var onMouseDown = useCallback(function (event) {\n      var _onMouseDownRef$curre;\n\n      (_onMouseDownRef$curre = onMouseDownRef.current) === null || _onMouseDownRef$curre === void 0 ? void 0 : _onMouseDownRef$curre.call(onMouseDownRef, event);\n      setUserFocus(event.currentTarget, true);\n    }, []);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$setCurrentId;\n\n      var shouldFocusComposite = hasUserFocus(event.currentTarget);\n      setUserFocus(event.currentTarget, false);\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (isPortalEvent(event)) return;\n      if (!id) return;\n      if (targetIsAnotherItem(event, options.items)) return;\n      (_options$setCurrentId = options.setCurrentId) === null || _options$setCurrentId === void 0 ? void 0 : _options$setCurrentId.call(options, id); // When using aria-activedescendant, we want to make sure that the\n      // composite container receives focus, not the composite item.\n      // But we don't want to do this if the target is another focusable\n      // element inside the composite item, such as CompositeItemWidget.\n\n      if (shouldFocusComposite && options.unstable_virtual && options.baseId && isSelfTarget(event)) {\n        var target = event.target;\n        var composite = getDocument(target).getElementById(options.baseId);\n\n        if (composite) {\n          hasFocusedComposite.current = true;\n          ensureFocus(composite);\n        }\n      }\n    }, [id, options.items, options.setCurrentId, options.unstable_virtual, options.baseId]);\n    var onBlurCapture = useCallback(function (event) {\n      var _onBlurCaptureRef$cur;\n\n      (_onBlurCaptureRef$cur = onBlurCaptureRef.current) === null || _onBlurCaptureRef$cur === void 0 ? void 0 : _onBlurCaptureRef$cur.call(onBlurCaptureRef, event);\n      if (event.defaultPrevented) return;\n\n      if (options.unstable_virtual && hasFocusedComposite.current) {\n        // When hasFocusedComposite is true, composite has been focused right\n        // after focusing this item. This is an intermediate blur event, so\n        // we ignore it.\n        hasFocusedComposite.current = false;\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }, [options.unstable_virtual]);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      if (!isSelfTarget(event)) return;\n      var isVertical = options.orientation !== \"horizontal\";\n      var isHorizontal = options.orientation !== \"vertical\";\n      var isGrid = !!(item === null || item === void 0 ? void 0 : item.groupId);\n      var keyMap = {\n        ArrowUp: (isGrid || isVertical) && options.up,\n        ArrowRight: (isGrid || isHorizontal) && options.next,\n        ArrowDown: (isGrid || isVertical) && options.down,\n        ArrowLeft: (isGrid || isHorizontal) && options.previous,\n        Home: function Home() {\n          if (!isGrid || event.ctrlKey) {\n            var _options$first;\n\n            (_options$first = options.first) === null || _options$first === void 0 ? void 0 : _options$first.call(options);\n          } else {\n            var _options$previous;\n\n            (_options$previous = options.previous) === null || _options$previous === void 0 ? void 0 : _options$previous.call(options, true);\n          }\n        },\n        End: function End() {\n          if (!isGrid || event.ctrlKey) {\n            var _options$last;\n\n            (_options$last = options.last) === null || _options$last === void 0 ? void 0 : _options$last.call(options);\n          } else {\n            var _options$next;\n\n            (_options$next = options.next) === null || _options$next === void 0 ? void 0 : _options$next.call(options, true);\n          }\n        },\n        PageUp: function PageUp() {\n          if (isGrid) {\n            var _options$up;\n\n            (_options$up = options.up) === null || _options$up === void 0 ? void 0 : _options$up.call(options, true);\n          } else {\n            var _options$first2;\n\n            (_options$first2 = options.first) === null || _options$first2 === void 0 ? void 0 : _options$first2.call(options);\n          }\n        },\n        PageDown: function PageDown() {\n          if (isGrid) {\n            var _options$down;\n\n            (_options$down = options.down) === null || _options$down === void 0 ? void 0 : _options$down.call(options, true);\n          } else {\n            var _options$last2;\n\n            (_options$last2 = options.last) === null || _options$last2 === void 0 ? void 0 : _options$last2.call(options);\n          }\n        }\n      };\n      var action = keyMap[event.key];\n\n      if (action) {\n        event.preventDefault();\n        action();\n        return;\n      }\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (event.defaultPrevented) return;\n\n      if (event.key.length === 1 && event.key !== \" \") {\n        var widget = getWidget(event.currentTarget);\n\n        if (widget && isTextField(widget)) {\n          widget.focus();\n          setTextFieldValue(widget, \"\");\n        }\n      } else if (event.key === \"Delete\" || event.key === \"Backspace\") {\n        var _widget = getWidget(event.currentTarget);\n\n        if (_widget && isTextField(_widget)) {\n          event.preventDefault();\n          setTextFieldValue(_widget, \"\");\n        }\n      }\n    }, [options.orientation, item, options.up, options.next, options.down, options.previous, options.first, options.last]);\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return;\n      var element = event.currentTarget;\n      var widget = getWidget(element);\n\n      if (widget && !hasFocusWithin(widget)) {\n        // If there's a widget inside the composite item, we make sure it's\n        // focused when pressing enter, space or clicking on the composite item.\n        widget.focus();\n      }\n    }, []);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      id: id,\n      tabIndex: shouldTabIndex ? htmlTabIndex : -1,\n      \"aria-selected\": options.unstable_virtual && isCurrentItem ? true : undefined,\n      onMouseDown: onMouseDown,\n      onFocus: onFocus,\n      onBlurCapture: onBlurCapture,\n      onKeyDown: onKeyDown,\n      onClick: onClick\n    }, htmlProps);\n  }\n});\nvar CompositeItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useCompositeItem\n});\n\nexport { CompositeItem, useCompositeItem };\n"]},"metadata":{},"sourceType":"module"}