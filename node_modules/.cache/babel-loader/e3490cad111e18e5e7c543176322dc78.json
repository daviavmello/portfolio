{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useCallback } from 'react';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport { useRole } from '../Role/Role.js';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { c as COMPOSITE_ITEM_WIDGET_KEYS } from '../__keys-6742f591.js';\nimport { isTextField } from 'reakit-utils/isTextField';\nimport 'reakit-utils/fireEvent';\nimport { s as setTextFieldValue } from '../setTextFieldValue-0a221f4e.js';\n\nfunction focusCurrentItem(widget, currentId) {\n  if (currentId) {\n    var _getDocument$getEleme;\n\n    (_getDocument$getEleme = getDocument(widget).getElementById(currentId)) === null || _getDocument$getEleme === void 0 ? void 0 : _getDocument$getEleme.focus();\n  }\n}\n\nfunction getTextFieldValue(element) {\n  return element.value;\n}\n\nvar unstable_useCompositeItemWidget = createHook({\n  name: \"CompositeItemWidget\",\n  compose: useRole,\n  keys: COMPOSITE_ITEM_WIDGET_KEYS,\n  useProps: function useProps(options, _ref) {\n    var htmlOnFocus = _ref.onFocus,\n        htmlOnBlur = _ref.onBlur,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"onFocus\", \"onBlur\", \"onKeyDown\"]);\n\n    var initialValue = useRef(\"\");\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurRef = useLiveRef(htmlOnBlur);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$unstable_set;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      (_options$unstable_set = options.unstable_setHasActiveWidget) === null || _options$unstable_set === void 0 ? void 0 : _options$unstable_set.call(options, true);\n\n      if (isTextField(event.currentTarget)) {\n        initialValue.current = getTextFieldValue(event.currentTarget);\n      }\n    }, [options.unstable_setHasActiveWidget]);\n    var onBlur = useCallback(function (event) {\n      var _onBlurRef$current, _options$unstable_set2;\n\n      (_onBlurRef$current = onBlurRef.current) === null || _onBlurRef$current === void 0 ? void 0 : _onBlurRef$current.call(onBlurRef, event);\n      (_options$unstable_set2 = options.unstable_setHasActiveWidget) === null || _options$unstable_set2 === void 0 ? void 0 : _options$unstable_set2.call(options, false);\n    }, [options.unstable_setHasActiveWidget]);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (event.defaultPrevented) return;\n      if (!isSelfTarget(event)) return;\n      if (event.nativeEvent.isComposing) return;\n      var element = event.currentTarget;\n\n      if (event.key === \"Enter\") {\n        if (isTextField(element)) {\n          var isMultilineTextField = element.tagName === \"TEXTAREA\"; // Make sure we can create new lines using Shift+Enter\n\n          if (isMultilineTextField && event.shiftKey) return; // Make sure it'll not trigger a click on the parent button\n\n          event.preventDefault();\n          focusCurrentItem(element, options.currentId);\n        }\n      } else if (event.key === \"Escape\") {\n        focusCurrentItem(element, options.currentId);\n\n        if (isTextField(element)) {\n          setTextFieldValue(element, initialValue.current);\n        }\n      }\n    }, [options.currentId]);\n    return _objectSpread2({\n      tabIndex: options.unstable_hasActiveWidget ? 0 : -1,\n      \"data-composite-item-widget\": true,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onKeyDown: onKeyDown\n    }, htmlProps);\n  }\n});\nvar unstable_CompositeItemWidget = createComponent({\n  as: \"div\",\n  useHook: unstable_useCompositeItemWidget\n});\nexport { unstable_CompositeItemWidget, unstable_useCompositeItemWidget };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio-react/node_modules/reakit/es/Composite/CompositeItemWidget.js"],"names":["_","_objectWithoutPropertiesLoose","a","_objectSpread2","createComponent","createHook","useRef","useCallback","useLiveRef","isSelfTarget","useRole","getDocument","c","COMPOSITE_ITEM_WIDGET_KEYS","isTextField","s","setTextFieldValue","focusCurrentItem","widget","currentId","_getDocument$getEleme","getElementById","focus","getTextFieldValue","element","value","unstable_useCompositeItemWidget","name","compose","keys","useProps","options","_ref","htmlOnFocus","onFocus","htmlOnBlur","onBlur","htmlOnKeyDown","onKeyDown","htmlProps","initialValue","onFocusRef","onBlurRef","onKeyDownRef","event","_onFocusRef$current","_options$unstable_set","current","call","unstable_setHasActiveWidget","currentTarget","_onBlurRef$current","_options$unstable_set2","_onKeyDownRef$current","defaultPrevented","nativeEvent","isComposing","key","isMultilineTextField","tagName","shiftKey","preventDefault","tabIndex","unstable_hasActiveWidget","unstable_CompositeItemWidget","as","useHook"],"mappings":"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","sourcesContent":["import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useCallback } from 'react';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport { useRole } from '../Role/Role.js';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { c as COMPOSITE_ITEM_WIDGET_KEYS } from '../__keys-6742f591.js';\nimport { isTextField } from 'reakit-utils/isTextField';\nimport 'reakit-utils/fireEvent';\nimport { s as setTextFieldValue } from '../setTextFieldValue-0a221f4e.js';\n\nfunction focusCurrentItem(widget, currentId) {\n  if (currentId) {\n    var _getDocument$getEleme;\n\n    (_getDocument$getEleme = getDocument(widget).getElementById(currentId)) === null || _getDocument$getEleme === void 0 ? void 0 : _getDocument$getEleme.focus();\n  }\n}\n\nfunction getTextFieldValue(element) {\n  return element.value;\n}\n\nvar unstable_useCompositeItemWidget = createHook({\n  name: \"CompositeItemWidget\",\n  compose: useRole,\n  keys: COMPOSITE_ITEM_WIDGET_KEYS,\n  useProps: function useProps(options, _ref) {\n    var htmlOnFocus = _ref.onFocus,\n        htmlOnBlur = _ref.onBlur,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"onFocus\", \"onBlur\", \"onKeyDown\"]);\n\n    var initialValue = useRef(\"\");\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurRef = useLiveRef(htmlOnBlur);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$unstable_set;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      (_options$unstable_set = options.unstable_setHasActiveWidget) === null || _options$unstable_set === void 0 ? void 0 : _options$unstable_set.call(options, true);\n\n      if (isTextField(event.currentTarget)) {\n        initialValue.current = getTextFieldValue(event.currentTarget);\n      }\n    }, [options.unstable_setHasActiveWidget]);\n    var onBlur = useCallback(function (event) {\n      var _onBlurRef$current, _options$unstable_set2;\n\n      (_onBlurRef$current = onBlurRef.current) === null || _onBlurRef$current === void 0 ? void 0 : _onBlurRef$current.call(onBlurRef, event);\n      (_options$unstable_set2 = options.unstable_setHasActiveWidget) === null || _options$unstable_set2 === void 0 ? void 0 : _options$unstable_set2.call(options, false);\n    }, [options.unstable_setHasActiveWidget]);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (event.defaultPrevented) return;\n      if (!isSelfTarget(event)) return;\n      if (event.nativeEvent.isComposing) return;\n      var element = event.currentTarget;\n\n      if (event.key === \"Enter\") {\n        if (isTextField(element)) {\n          var isMultilineTextField = element.tagName === \"TEXTAREA\"; // Make sure we can create new lines using Shift+Enter\n\n          if (isMultilineTextField && event.shiftKey) return; // Make sure it'll not trigger a click on the parent button\n\n          event.preventDefault();\n          focusCurrentItem(element, options.currentId);\n        }\n      } else if (event.key === \"Escape\") {\n        focusCurrentItem(element, options.currentId);\n\n        if (isTextField(element)) {\n          setTextFieldValue(element, initialValue.current);\n        }\n      }\n    }, [options.currentId]);\n    return _objectSpread2({\n      tabIndex: options.unstable_hasActiveWidget ? 0 : -1,\n      \"data-composite-item-widget\": true,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onKeyDown: onKeyDown\n    }, htmlProps);\n  }\n});\nvar unstable_CompositeItemWidget = createComponent({\n  as: \"div\",\n  useHook: unstable_useCompositeItemWidget\n});\n\nexport { unstable_CompositeItemWidget, unstable_useCompositeItemWidget };\n"]},"metadata":{},"sourceType":"module"}