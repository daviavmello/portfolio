{"ast":null,"code":"import _regeneratorRuntime from \"/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport { createContext, useRef, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport '@emotion/css';\nimport '@emotion/react';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport 'conditional-wrap';\nimport '../utils/useLocalStorage.js';\nimport { b as _objectWithoutPropertiesLoose, _ as _objectSpread2, d as _extends, e as _asyncToGenerator } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport { useLabelPlaceholder } from '../utils/useLabelPlaceholder.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport 'lodash/get';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuButtonWrapper, c as SelectMenuPopover, d as SelectMenuItemsWrapper, e as SelectMenuLabelWrapper, f as SelectMenuLabelWrapperBackground, g as SelectMenuButton$1, h as SelectMenuButtonText, i as SelectMenuButtonIconsWrapper, j as SelectMenuButtonIcon, k as SelectMenuSearchInputWrapper, l as SelectMenuSearchInput$1, m as SelectMenuTagsWrapper, n as SelectMenuItemText, o as SelectMenuClearButtonWrapper, p as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      label = props.label,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      renderDisclosure = props.renderDisclosure,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      size = props.size,\n      tagProps = props.tagProps,\n      value = props.value,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"label\", \"limit\", \"loadOptions\", \"loadVariables\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"searchInputProps\", \"placeholder\", \"state\", \"size\", \"tagProps\", \"value\", \"variant\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var buttonRef = useRef(); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var _useLabelPlaceholder = useLabelPlaceholder(_objectSpread2({\n    enabled: Boolean(label),\n    useValue: true,\n    onBlur: null,\n    onFocus: null\n  }, props)),\n      isFocused = _useLabelPlaceholder.isFocused,\n      _useLabelPlaceholder$ = _useLabelPlaceholder.inputProps,\n      onBlur = _useLabelPlaceholder$.onBlur,\n      onChange = _useLabelPlaceholder$.onChange,\n      onFocus = _useLabelPlaceholder$.onFocus; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var wrapperClassName = useClassName({\n    style: SelectMenuButtonWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonWrapper'\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var labelWrapperClassName = useClassName({\n    style: SelectMenuLabelWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapper'\n  });\n  var labelWrapperBackgroundClassName = useClassName({\n    style: SelectMenuLabelWrapperBackground,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapperBackground'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n      var loadVariables, page, _ref2$searchText, searchText;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loadVariables = _ref2.loadVariables, page = _ref2.page, _ref2$searchText = _ref2.searchText, searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n              if (!(typeof loadOptions === 'function')) {\n                _context.next = 5;\n                break;\n              }\n\n              if (!blockLoad) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res({\n                  options: options\n                });\n              }));\n\n            case 4:\n              return _context.abrupt(\"return\", loadOptions({\n                page: page,\n                searchText: searchText,\n                variables: loadVariables\n              }).then(function (_ref4) {\n                var fetchedOptions = _ref4.options;\n                var newOptions = [].concat(options, fetchedOptions);\n\n                if (page === 1) {\n                  newOptions = fetchedOptions;\n                }\n\n                if (page > 1 && fetchedOptions.length === 0) {\n                  setBlockLoad(true);\n                }\n\n                return {\n                  options: newOptions\n                };\n              }));\n\n            case 5:\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res(undefined);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref5) {\n    var searchText = _ref5.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n\n    onFocus({});\n  }, [defer, optionsRecord]); // eslint-disable-line\n\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref7) {\n    var option = _ref7.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n      onBlur({});\n    }\n  }, [dropdownMenu.visible, handleChangeInput]); // eslint-disable-line\n\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(Box$1, {\n      className: wrapperClassName\n    }, label && /*#__PURE__*/createElement$1(Fragment, null, /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperBackgroundClassName\n    }, /*#__PURE__*/createElement$1(Text, {\n      opacity: \"0\"\n    }, label)), /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperClassName,\n      onClick: function onClick() {\n        var _buttonRef$current;\n\n        return (_buttonRef$current = buttonRef.current) === null || _buttonRef$current === void 0 ? void 0 : _buttonRef$current.focus();\n      }\n    }, /*#__PURE__*/createElement$1(Text, null, label))), /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      elementRef: buttonRef,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      renderDisclosure: renderDisclosure,\n      selectedOptions: selectedOptions,\n      size: size,\n      state: fieldState,\n      variant: variant,\n      value: value\n    }, buttonProps))), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps,\n      autoFocus: isDropdown\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }))) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel,\n    variant: 'bordered'\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      elementRef = props.elementRef,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      renderDisclosure = props.renderDisclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"elementRef\", \"isLoading\", \"onClick\", \"onClear\", \"renderDisclosure\", \"selectedOptions\", \"placeholder\", \"variant\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var color = 'text';\n\n  if (!selectedOptions || selectedOptions.length === 0) {\n    color = 'gray300';\n  }\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides,\n      disabled: disabled,\n      variant: variant,\n      isSelected: selectedOptions.length > 0\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      color: color,\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    elementRef: elementRef,\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (renderDisclosure) {\n    return renderDisclosure({\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var autoFocus = props.autoFocus,\n      onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"autoFocus\", \"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value,\n    autoFocus: autoFocus\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/bumbag/es/SelectMenu/SelectMenu.js"],"names":["createContext","useRef","useState","useReducer","useEffect","useCallback","useMemo","createElement","createElement$1","Fragment","useContext","b","_objectWithoutPropertiesLoose","_","_objectSpread2","d","_extends","e","_asyncToGenerator","useLabelPlaceholder","useDebounce","useClassName","createComponent","createHook","Box","Box$1","Icon","Text","Spinner","Button","Set","useLoads","Input","DropdownMenuButton","DropdownMenuPopover","DropdownMenu","Menu","a","SelectMenu$1","SelectMenuButtonWrapper","c","SelectMenuPopover","SelectMenuItemsWrapper","SelectMenuLabelWrapper","f","SelectMenuLabelWrapperBackground","g","SelectMenuButton$1","h","SelectMenuButtonText","i","SelectMenuButtonIconsWrapper","j","SelectMenuButtonIcon","k","SelectMenuSearchInputWrapper","l","SelectMenuSearchInput$1","m","SelectMenuTagsWrapper","n","SelectMenuItemText","o","SelectMenuClearButtonWrapper","p","SelectMenuClearButton","Tag","SelectMenuItem","SelectMenuStaticItem","SelectMenuContext","reducer","state","event","type","page","selectedOptions","value","Array","isArray","searchText","options","filteredOptions","useProps","props","_ref","themeKey","buttonProps","cacheKey","disabled","disableClear","dropdownMenuInitialState","emptyText","errorText","loadingText","loadingMoreText","popoverProps","hasSearch","hasTags","itemProps","isDropdown","isLoading","isMultiSelect","label","limit","loadOptions","loadVariables","initialOptions","overrides","pagination","renderDisclosure","Empty","renderEmpty","Error","renderError","Loading","renderLoading","LoadingMore","renderLoadingMore","Option","renderOption","searchInputProps","placeholder","fieldState","size","tagProps","variant","restProps","boxProps","buttonRef","dropdownMenu","loop","gutter","_React$useState","blockLoad","setBlockLoad","_React$useState2","defer","setDefer","_useLabelPlaceholder","enabled","Boolean","useValue","onBlur","onFocus","isFocused","_useLabelPlaceholder$","inputProps","onChange","className","style","styleProps","prevClassName","wrapperClassName","themeKeySuffix","dropdownMenuPopoverClassName","selectMenuItemsWrapperClassName","labelWrapperClassName","visible","labelWrapperBackgroundClassName","_React$useReducer","_React$useReducer$","selectedIndexes","dispatch","debouncedInputValue","getOptions","_ref3","mark","_callee","_ref2","_ref2$searchText","wrap","_callee$","_context","prev","next","abrupt","Promise","res","variables","then","_ref4","fetchedOptions","newOptions","concat","length","undefined","stop","_x","apply","arguments","optionsRecord","visibleOptions","slice","filter","option","includes","isLoadingMore","isPending","isIdle","isResolved","isRejected","filterOptions","_ref5","toLowerCase","trim","handleClickItem","_ref6","_newOptions","some","selectedOption","key","_newOptions2","handleClickButton","load","handleChangeInput","target","handleClearTag","_ref7","handleClearOptions","stopPropagation","handleScrollPopover","currentTarget","scrollHeight","offsetHeight","scrollTop","_optionsRecord$respon","_optionsRecord$respon2","_options","response","context","EmptyStaticItem","onClick","hide","EmptyItem","MenuWrapper","children","Provider","opacity","_buttonRef$current","current","focus","SelectMenuButton","elementRef","onClear","role","SelectMenuSearchInput","autoFocus","SelectMenuTags","onClearTag","use","onScroll","map","index","iconAfter","iconAfterProps","iconBefore","iconBeforeProps","hideOnClick","MatchedLabel","_MatchedLabel","StaticItem","Item","defaultProps","popoverHeight","SelectMenu","selectMenuProps","component","htmlProps","attach","displayName","_React$useContext","color","buttonClassName","isSelected","buttonTextClassName","iconsWrapperClassName","iconClassName","dropdownMenuButtonProps","_selectedOptions$","_selectedOptions$2","disclosureProps","ClearButton","icon","_React$useContext2","searchInputWrapperClassName","searchInputClassName","_React$useContext3","tagsWrapperClassName","spacing","palette","onRemove","_React$useContext4","escapeStringRegexp","string","replace","match","RegExp","preText","highlightedText","postText","fontWeight","display","alignItems","marginLeft","_React$useContext5","Close","iconProps","fontSize","onMouseDown","preventDefault"],"mappings":"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","sourcesContent":["import { createContext, useRef, useState, useReducer, useEffect, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport '@emotion/css';\nimport '@emotion/react';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport 'conditional-wrap';\nimport '../utils/useLocalStorage.js';\nimport { b as _objectWithoutPropertiesLoose, _ as _objectSpread2, d as _extends, e as _asyncToGenerator } from '../_rollupPluginBabelHelpers.js';\nimport '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport { useLabelPlaceholder } from '../utils/useLabelPlaceholder.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport 'lodash/get';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport { Icon } from '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport '../Set.styles.js';\nimport { Set } from '../Set/Set.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport '../Rover.styles.js';\nimport '../Rover/RoverState.js';\nimport '../Rover/Rover.js';\nimport '../Rover/index.js';\nimport '../Menu/Menu.js';\nimport '../Menu/MenuGroup.js';\nimport '../Menu/MenuOptionGroup.js';\nimport '../Menu/MenuItem.js';\nimport '../Menu/MenuOptionItem.js';\nimport '../Menu/MenuDivider.js';\nimport { Menu } from '../Menu/index.js';\nimport '../Select.styles.js';\nimport { a as SelectMenu$1, b as SelectMenuButtonWrapper, c as SelectMenuPopover, d as SelectMenuItemsWrapper, e as SelectMenuLabelWrapper, f as SelectMenuLabelWrapperBackground, g as SelectMenuButton$1, h as SelectMenuButtonText, i as SelectMenuButtonIconsWrapper, j as SelectMenuButtonIcon, k as SelectMenuSearchInputWrapper, l as SelectMenuSearchInput$1, m as SelectMenuTagsWrapper, n as SelectMenuItemText, o as SelectMenuClearButtonWrapper, p as SelectMenuClearButton } from '../SelectMenu.styles.js';\nimport '../Tag.styles.js';\nimport { Tag } from '../Tag/Tag.js';\nimport { SelectMenuItem } from './SelectMenuItem.js';\nimport { SelectMenuStaticItem } from './SelectMenuStaticItem.js';\n\nvar SelectMenuContext = createContext({});\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'VALUE_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          selectedOptions: event.value ? Array.isArray(event.value) ? event.value : [event.value] : []\n        });\n      }\n\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          searchText: event.searchText\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref) {\n  var themeKey = _ref.themeKey;\n\n  var buttonProps = props.buttonProps,\n      cacheKey = props.cacheKey,\n      disabled = props.disabled,\n      disableClear = props.disableClear,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      hasSearch = props.hasSearch,\n      hasTags = props.hasTags,\n      itemProps = props.itemProps,\n      isDropdown = props.isDropdown,\n      isLoading = props.isLoading,\n      isMultiSelect = props.isMultiSelect,\n      label = props.label,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      renderDisclosure = props.renderDisclosure,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      searchInputProps = props.searchInputProps,\n      placeholder = props.placeholder,\n      fieldState = props.state,\n      size = props.size,\n      tagProps = props.tagProps,\n      value = props.value,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"cacheKey\", \"disabled\", \"disableClear\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"hasSearch\", \"hasTags\", \"itemProps\", \"isDropdown\", \"isLoading\", \"isMultiSelect\", \"label\", \"limit\", \"loadOptions\", \"loadVariables\", \"options\", \"overrides\", \"pagination\", \"renderDisclosure\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"searchInputProps\", \"placeholder\", \"state\", \"size\", \"tagProps\", \"value\", \"variant\"]); /////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var buttonRef = useRef(); //////////////////////////////////////////////////\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState)); //////////////////////////////////////////////////\n\n  var _React$useState = useState(false),\n      blockLoad = _React$useState[0],\n      setBlockLoad = _React$useState[1];\n\n  var _React$useState2 = useState(props.defer || !loadOptions),\n      defer = _React$useState2[0],\n      setDefer = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var _useLabelPlaceholder = useLabelPlaceholder(_objectSpread2({\n    enabled: Boolean(label),\n    useValue: true,\n    onBlur: null,\n    onFocus: null\n  }, props)),\n      isFocused = _useLabelPlaceholder.isFocused,\n      _useLabelPlaceholder$ = _useLabelPlaceholder.inputProps,\n      onBlur = _useLabelPlaceholder$.onBlur,\n      onChange = _useLabelPlaceholder$.onChange,\n      onFocus = _useLabelPlaceholder$.onFocus; //////////////////////////////////////////////////\n\n\n  var className = useClassName({\n    style: SelectMenu$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var wrapperClassName = useClassName({\n    style: SelectMenuButtonWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonWrapper'\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: SelectMenuPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var selectMenuItemsWrapperClassName = useClassName({\n    style: SelectMenuItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var labelWrapperClassName = useClassName({\n    style: SelectMenuLabelWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapper'\n  });\n  var labelWrapperBackgroundClassName = useClassName({\n    style: SelectMenuLabelWrapperBackground,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      isFocused: isFocused || dropdownMenu.visible\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'LabelWrapperBackground'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    searchText: '',\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    selectedOptions: []\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      searchText = _React$useReducer$.searchText,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOptions = _React$useReducer$.selectedOptions,\n      selectedIndexes = _React$useReducer$.selectedIndexes,\n      dispatch = _React$useReducer[1];\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: initialOptions\n    });\n  }, [initialOptions]); //////////////////////////////////////////////////\n\n  var debouncedInputValue = useDebounce(searchText, 500);\n  var getOptions = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n      var loadVariables, page, _ref2$searchText, searchText;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loadVariables = _ref2.loadVariables, page = _ref2.page, _ref2$searchText = _ref2.searchText, searchText = _ref2$searchText === void 0 ? '' : _ref2$searchText;\n\n              if (!(typeof loadOptions === 'function')) {\n                _context.next = 5;\n                break;\n              }\n\n              if (!blockLoad) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res({\n                  options: options\n                });\n              }));\n\n            case 4:\n              return _context.abrupt(\"return\", loadOptions({\n                page: page,\n                searchText: searchText,\n                variables: loadVariables\n              }).then(function (_ref4) {\n                var fetchedOptions = _ref4.options;\n                var newOptions = [].concat(options, fetchedOptions);\n\n                if (page === 1) {\n                  newOptions = fetchedOptions;\n                }\n\n                if (page > 1 && fetchedOptions.length === 0) {\n                  setBlockLoad(true);\n                }\n\n                return {\n                  options: newOptions\n                };\n              }));\n\n            case 5:\n              return _context.abrupt(\"return\", new Promise(function (res) {\n                return res(undefined);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  var visibleOptions = useMemo(function () {\n    return filteredOptions.slice(0, limit).filter(function (option) {\n      if (!option) return false;\n\n      if (hasTags) {\n        return !selectedOptions.includes(option);\n      }\n\n      return true;\n    });\n  }, [filteredOptions, hasTags, limit, selectedOptions]); //////////////////////////////////////////////////\n\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var state = 'empty';\n\n  if (visibleOptions.length > 0 || loadOptions && (optionsRecord.isResolved && visibleOptions.length > 0 || isLoadingMore)) {\n    state = 'success';\n  } else if (isLoading || loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1) {\n    state = 'loading';\n  } else if (loadOptions && optionsRecord.isRejected) {\n    state = 'error';\n  } //////////////////////////////////////////////////\n\n\n  var filterOptions = useCallback(function (_ref5) {\n    var searchText = _ref5.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions\n    });\n    return filteredOptions;\n  }, [loadOptions, options]); //////////////////////////////////////////////////\n\n  var handleClickItem = useCallback(function (_ref6) {\n    var option = _ref6.option;\n    return function () {\n      if (isMultiSelect) {\n        var _newOptions = [];\n\n        if (selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        })) {\n          _newOptions = selectedOptions.filter(function (selectedOption) {\n            return option.key !== selectedOption.key;\n          });\n        } else {\n          _newOptions = [].concat(selectedOptions, [option]);\n        }\n\n        onChange && onChange(_newOptions, option);\n      } else {\n        var _newOptions2 = selectedOptions;\n\n        if (!selectedOptions.includes(option)) {\n          _newOptions2 = option;\n        } else if (!disableClear) {\n          _newOptions2 = '';\n        }\n\n        onChange && onChange(_newOptions2, _newOptions2);\n      }\n    };\n  }, [disableClear, isMultiSelect, onChange, selectedOptions]);\n  var handleClickButton = useCallback(function () {\n    if (defer) {\n      setDefer(false);\n      optionsRecord.load();\n    }\n\n    onFocus({});\n  }, [defer, optionsRecord]); // eslint-disable-line\n\n  var handleChangeInput = useCallback(function (event) {\n    var searchText = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      searchText: searchText\n    });\n    filterOptions({\n      searchText: searchText\n    });\n  }, [filterOptions]);\n  var handleClearTag = useCallback(function (_ref7) {\n    var option = _ref7.option;\n    handleClickItem({\n      option: option\n    })();\n  }, [handleClickItem]);\n  var handleClearOptions = useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: ''\n    });\n    onChange && onChange('', '');\n  }, [onChange]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'VALUE_CHANGE',\n      value: value\n    });\n  }, [value]);\n  useEffect(function () {\n    if (!dropdownMenu.visible) {\n      handleChangeInput({\n        target: {\n          value: ''\n        }\n      });\n      onBlur({});\n    }\n  }, [dropdownMenu.visible, handleChangeInput]); // eslint-disable-line\n\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      dropdownMenu: dropdownMenu,\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [dropdownMenu, overrides, themeKey]); //////////////////////////////////////////////////\n\n  var EmptyStaticItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({}, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  );\n  var EmptyItem = useCallback(function (props) {\n    return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n      isDropdown: isDropdown\n    }, dropdownMenu, props, {\n      onClick: function onClick(e) {\n        props.onClick && props.onClick(e);\n        dropdownMenu.hide();\n      }\n    }));\n  }, [] // eslint-disable-line\n  ); //////////////////////////////////////////////////\n\n  var MenuWrapper = isDropdown ? DropdownMenuPopover : Menu; //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    className: className,\n    children: /*#__PURE__*/createElement$1(SelectMenuContext.Provider, {\n      value: context\n    }, isDropdown && /*#__PURE__*/createElement$1(Box$1, {\n      className: wrapperClassName\n    }, label && /*#__PURE__*/createElement$1(Fragment, null, /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperBackgroundClassName\n    }, /*#__PURE__*/createElement$1(Text, {\n      opacity: \"0\"\n    }, label)), /*#__PURE__*/createElement$1(Box$1, {\n      className: labelWrapperClassName,\n      onClick: function onClick() {\n        var _buttonRef$current;\n\n        return (_buttonRef$current = buttonRef.current) === null || _buttonRef$current === void 0 ? void 0 : _buttonRef$current.focus();\n      }\n    }, /*#__PURE__*/createElement$1(Text, null, label))), /*#__PURE__*/createElement$1(SelectMenuButton, _extends({\n      elementRef: buttonRef,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      onClick: handleClickButton,\n      onClear: handleClearOptions,\n      placeholder: placeholder,\n      renderDisclosure: renderDisclosure,\n      selectedOptions: selectedOptions,\n      size: size,\n      state: fieldState,\n      variant: variant,\n      value: value\n    }, buttonProps))), /*#__PURE__*/createElement$1(MenuWrapper, _extends({}, dropdownMenu, {\n      className: dropdownMenuPopoverClassName,\n      overrides: overrides,\n      role: \"listbox\"\n    }, popoverProps), !isDropdown || dropdownMenu.visible ? /*#__PURE__*/createElement$1(Fragment, null, hasSearch && /*#__PURE__*/createElement$1(SelectMenuSearchInput, {\n      onChange: handleChangeInput,\n      value: searchText,\n      searchInputProps: searchInputProps,\n      autoFocus: isDropdown\n    }), hasTags && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(SelectMenuTags, {\n      onClearTag: handleClearTag,\n      selectedOptions: selectedOptions,\n      tagProps: tagProps\n    }), /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: selectMenuItemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, state === 'success' && /*#__PURE__*/createElement$1(Fragment, null, visibleOptions.map(function (option, index) {\n      return /*#__PURE__*/createElement$1(SelectMenuItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": selectedOptions.some(function (selectedOption) {\n          return selectedOption.key === option.key;\n        }),\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        isDropdown: isDropdown,\n        hideOnClick: !isMultiSelect,\n        onClick: handleClickItem({\n          index: index,\n          option: option\n        }),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        searchText: searchText,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            searchText: searchText\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })), state === 'loading' && /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }), state === 'empty' && /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      searchText: searchText,\n      overrides: overrides,\n      StaticItem: EmptyStaticItem,\n      Item: EmptyItem\n    }), state === 'error' && /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }))) : null))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    isDropdown: true,\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    options: [],\n    popoverHeight: '300px',\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel,\n    variant: 'bordered'\n  },\n  themeKey: 'SelectMenu'\n});\nvar SelectMenu = createComponent(function (props) {\n  var selectMenuProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: selectMenuProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'SelectMenu'\n  },\n  themeKey: 'SelectMenu'\n}); //////////////////////////////////////////////////////////////////\n\nfunction SelectMenuButton(props) {\n  var disabled = props.disabled,\n      disableClear = props.disableClear,\n      elementRef = props.elementRef,\n      isLoading = props.isLoading,\n      onClick = props.onClick,\n      onClear = props.onClear,\n      renderDisclosure = props.renderDisclosure,\n      selectedOptions = props.selectedOptions,\n      placeholder = props.placeholder,\n      variant = props.variant,\n      restProps = _objectWithoutPropertiesLoose(props, [\"disabled\", \"disableClear\", \"elementRef\", \"isLoading\", \"onClick\", \"onClear\", \"renderDisclosure\", \"selectedOptions\", \"placeholder\", \"variant\"]);\n\n  var _React$useContext = useContext(SelectMenuContext),\n      dropdownMenu = _React$useContext.dropdownMenu,\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var color = 'text';\n\n  if (!selectedOptions || selectedOptions.length === 0) {\n    color = 'gray300';\n  }\n\n  var buttonClassName = useClassName({\n    style: SelectMenuButton$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides,\n      disabled: disabled,\n      variant: variant,\n      isSelected: selectedOptions.length > 0\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'Button'\n  });\n  var buttonTextClassName = useClassName({\n    style: SelectMenuButtonText,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      color: color,\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonText'\n  });\n  var iconsWrapperClassName = useClassName({\n    style: SelectMenuButtonIconsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIconsWrapper'\n  });\n  var iconClassName = useClassName({\n    style: SelectMenuButtonIcon,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ButtonIcon'\n  });\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    'aria-haspopup': 'listbox',\n    elementRef: elementRef,\n    disabled: disabled,\n    onClick: onClick,\n    overrides: overrides\n  }, restProps));\n  var label = placeholder;\n\n  if (selectedOptions.length === 1) {\n    var _selectedOptions$;\n\n    label = selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$ = selectedOptions[0]) === null || _selectedOptions$ === void 0 ? void 0 : _selectedOptions$.label;\n  }\n\n  if (selectedOptions.length > 1) {\n    var _selectedOptions$2;\n\n    label = (selectedOptions === null || selectedOptions === void 0 ? void 0 : (_selectedOptions$2 = selectedOptions[0]) === null || _selectedOptions$2 === void 0 ? void 0 : _selectedOptions$2.label) + \" + \" + (selectedOptions.length - 1) + \" other\" + (selectedOptions.length - 1 > 1 ? 's' : '');\n  }\n\n  if (renderDisclosure) {\n    return renderDisclosure({\n      disclosureProps: dropdownMenuButtonProps,\n      disabled: disabled,\n      disableClear: disableClear,\n      isLoading: isLoading,\n      label: label,\n      selectedOptions: selectedOptions,\n      onClear: onClear,\n      placeholder: placeholder\n    });\n  }\n\n  return /*#__PURE__*/createElement$1(Box$1, _extends({}, dropdownMenuButtonProps, {\n    className: buttonClassName\n  }), /*#__PURE__*/createElement$1(Box$1, {\n    className: buttonTextClassName\n  }, label), /*#__PURE__*/createElement$1(Box$1, {\n    className: iconsWrapperClassName\n  }, /*#__PURE__*/createElement$1(Set, null, !disableClear && selectedOptions.length > 0 && /*#__PURE__*/createElement$1(ClearButton, {\n    onClick: onClear\n  }), isLoading ? /*#__PURE__*/createElement$1(Spinner, {\n    color: \"text\",\n    size: \"small\"\n  }) : /*#__PURE__*/createElement$1(Icon, {\n    className: iconClassName,\n    icon: \"chevron-down\"\n  }))));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuSearchInput(props) {\n  var autoFocus = props.autoFocus,\n      onChange = props.onChange,\n      searchInputProps = props.searchInputProps,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"autoFocus\", \"onChange\", \"searchInputProps\", \"value\"]);\n\n  var _React$useContext2 = useContext(SelectMenuContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var searchInputWrapperClassName = useClassName({\n    style: SelectMenuSearchInputWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInputWrapper'\n  });\n  var searchInputClassName = useClassName({\n    style: SelectMenuSearchInput$1,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'SearchInput'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: searchInputWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Input, _extends({\n    className: searchInputClassName,\n    onChange: onChange,\n    overrides: overrides,\n    placeholder: \"Type to search...\",\n    value: value,\n    autoFocus: autoFocus\n  }, searchInputProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction SelectMenuTags(props) {\n  var onClearTag = props.onClearTag,\n      selectedOptions = props.selectedOptions,\n      tagProps = props.tagProps,\n      restProps = _objectWithoutPropertiesLoose(props, [\"onClearTag\", \"selectedOptions\", \"tagProps\"]);\n\n  var _React$useContext3 = useContext(SelectMenuContext),\n      overrides = _React$useContext3.overrides,\n      themeKey = _React$useContext3.themeKey;\n\n  var tagsWrapperClassName = useClassName({\n    style: SelectMenuTagsWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'TagsWrapper'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: tagsWrapperClassName\n  }, restProps), /*#__PURE__*/createElement$1(Set, {\n    spacing: \"minor-1\",\n    overrides: overrides\n  }, selectedOptions.map(function (option) {\n    return /*#__PURE__*/createElement$1(Tag, _extends({\n      key: option.key,\n      palette: \"primaryTint\",\n      onRemove: function onRemove() {\n        return onClearTag({\n          option: option\n        });\n      },\n      overrides: overrides\n    }, tagProps), option.label);\n  })));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      searchText = props.searchText,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"searchText\"]);\n\n  var _React$useContext4 = useContext(SelectMenuContext),\n      overrides = _React$useContext4.overrides,\n      themeKey = _React$useContext4.themeKey;\n\n  var className = useClassName({\n    style: SelectMenuItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(searchText), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext5 = useContext(SelectMenuContext),\n      overrides = _React$useContext5.overrides,\n      themeKey = _React$useContext5.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: SelectMenuClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: SelectMenuClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Box$1, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(SelectMenuStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nexport { SelectMenu, SelectMenuContext };\n"]},"metadata":{},"sourceType":"module"}