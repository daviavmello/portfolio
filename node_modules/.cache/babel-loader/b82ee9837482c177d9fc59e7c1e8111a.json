{"ast":null,"code":"import { createContext, useRef, useState, useEffect, useReducer, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport 'emotion';\nimport '@emotion/core';\nimport 'emotion-theming';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport '../utils/useLocalStorage.js';\nimport { d as _objectWithoutPropertiesLoose, _ as _objectSpread2, c as _extends } from '../_rollupPluginBabelHelpers.js';\nimport { omit } from '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/colors.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport 'conditional-wrap';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport { Flex } from '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport { a as Autosuggest$1, b as AutosuggestPopover, I as ItemsWrapper, c as AutosuggestInput, d as AutosuggestClearButtonWrapper, e as AutosuggestClearButton, f as AutosuggestItemText } from '../Autosuggest.styles.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport { AutosuggestItem } from './AutosuggestItem.js';\nimport { AutosuggestStaticItem } from './AutosuggestStaticItem.js';\nvar AutosuggestContext = createContext({});\nvar KEY_ENTER = 13;\nvar KEY_ESC = 27;\nvar KEY_UP = 38;\nvar KEY_DOWN = 40;\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          highlightedIndex: event.automaticSelection ? getNewHighlightedIndex({\n            compare: function compare(_ref) {\n              var index = _ref.index,\n                  optionsLength = _ref.optionsLength;\n              return index < optionsLength ? index + 1 : 0;\n            },\n            highlightedIndex: -1,\n            filteredOptions: state.filteredOptions\n          }) : -1,\n          inputValue: event.inputValue,\n          selectedOption: undefined\n        });\n      }\n\n    case 'INPUT_BLUR':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          page: 1,\n          inputValue: event.restrictToOptions && state.highlightedIndex === -1 && !state.selectedOption ? '' : state.inputValue\n        });\n      }\n\n    case 'KEY_UP':\n      {\n        var newHighlightedIndex = getNewHighlightedIndex({\n          compare: function compare(_ref2) {\n            var index = _ref2.index,\n                optionsLength = _ref2.optionsLength;\n            return index > 0 ? index - 1 : optionsLength;\n          },\n          highlightedIndex: state.highlightedIndex,\n          filteredOptions: state.filteredOptions\n        });\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: newHighlightedIndex\n        });\n      }\n\n    case 'KEY_DOWN':\n      {\n        var _newHighlightedIndex = getNewHighlightedIndex({\n          compare: function compare(_ref3) {\n            var index = _ref3.index,\n                optionsLength = _ref3.optionsLength;\n            return index < optionsLength ? index + 1 : 0;\n          },\n          highlightedIndex: state.highlightedIndex,\n          filteredOptions: state.filteredOptions\n        });\n\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: _newHighlightedIndex\n        });\n      }\n\n    case 'KEY_ESC':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: ''\n        });\n      }\n\n    case 'KEY_ENTER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: event.restrictToOptions && state.highlightedIndex === -1 ? '' : state.inputValue\n        });\n      }\n\n    case 'MOUSE_CLICK_ITEM':\n      {\n        if (event.option && event.option.disabled) return state;\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: state.filteredOptions[event.index].label\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'OPTION_SELECTED':\n      {\n        var _event$option$label, _event$option;\n\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: [event.option],\n          inputValue: (_event$option$label = event === null || event === void 0 ? void 0 : (_event$option = event.option) === null || _event$option === void 0 ? void 0 : _event$option.label) !== null && _event$option$label !== void 0 ? _event$option$label : '',\n          selectedOption: event.option,\n          value: event.option\n        });\n      }\n\n    case 'OPTION_CLEARED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: state.options,\n          inputValue: '',\n          selectedOption: undefined,\n          value: undefined\n        });\n      }\n\n    case 'MOUSE_ENTER_POPOVER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isMouseInsidePopover: true\n        });\n      }\n\n    case 'MOUSE_LEAVE_POPOVER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: state.inputValue && event.automaticSelection ? 0 : -1,\n          isMouseInsidePopover: false\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref4) {\n  var _dropdownMenu$items, _dropdownMenu$items$h;\n\n  var themeKey = _ref4.themeKey;\n\n  var automaticSelection = props.automaticSelection,\n      cacheKey = props.cacheKey,\n      clearButtonProps = props.clearButtonProps,\n      disabled = props.disabled,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      itemProps = props.itemProps,\n      inputProps = props.inputProps,\n      isInputLoading = props.isLoading,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      onChange = props.onChange,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      ClearButton = props.renderClearButton,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      placeholder = props.placeholder,\n      restrictToOptions = props.restrictToOptions,\n      state = props.state,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"automaticSelection\", \"cacheKey\", \"clearButtonProps\", \"disabled\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"itemProps\", \"inputProps\", \"isLoading\", \"limit\", \"loadOptions\", \"loadVariables\", \"onChange\", \"options\", \"overrides\", \"pagination\", \"renderClearButton\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"placeholder\", \"restrictToOptions\", \"state\", \"value\"]); //////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var inputRef = useRef();\n  var mousePositionRef = useRef();\n  var popoverRef = useRef();\n\n  var _React$useState = useState(props.defer || !loadOptions),\n      defer = _React$useState[0],\n      setDefer = _React$useState[1];\n\n  var _React$useState2 = useState(false),\n      blockLoad = _React$useState2[0],\n      setBlockLoad = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState));\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    ref: inputRef\n  })); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    function handleMouseMove(e) {\n      mousePositionRef.current = e;\n    }\n\n    if (typeof window !== 'undefined') {\n      window.document.addEventListener('mousemove', handleMouseMove);\n    }\n\n    return function cleanup() {\n      window.document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }); //////////////////////////////////////////////////\n\n  var className = useClassName({\n    style: Autosuggest$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: AutosuggestPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var itemsWrapperClassName = useClassName({\n    style: ItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var inputClassName = useClassName({\n    style: AutosuggestInput,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Input'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    highlightedIndex: -1,\n    inputValue: value === null || value === void 0 ? void 0 : value.label,\n    isMouseInsidePopover: false,\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    value: ''\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      highlightedIndex = _React$useReducer$.highlightedIndex,\n      inputValue = _React$useReducer$.inputValue,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOption = _React$useReducer$.selectedOption,\n      dispatch = _React$useReducer[1]; //////////////////////////////////////////////////\n\n\n  var debouncedInputValue = useDebounce(inputValue, 500);\n  var getOptions = useCallback(function (_ref5) {\n    var loadVariables = _ref5.loadVariables,\n        page = _ref5.page,\n        _ref5$searchText = _ref5.searchText,\n        searchText = _ref5$searchText === void 0 ? '' : _ref5$searchText;\n\n    if (typeof loadOptions === 'function') {\n      if (blockLoad) return {\n        options: options\n      };\n      return loadOptions({\n        page: page,\n        searchText: searchText,\n        variables: loadVariables\n      }).then(function (_ref6) {\n        var fetchedOptions = _ref6.options;\n        var newOptions = [].concat(options, fetchedOptions);\n\n        if (page === 1) {\n          newOptions = fetchedOptions;\n        }\n\n        if (page > 1 && fetchedOptions.length === 0) {\n          setBlockLoad(true);\n        }\n\n        return {\n          options: newOptions\n        };\n      });\n    }\n\n    return new Promise(function (res) {\n      return res(undefined);\n    });\n  }, [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n  }, [initialOptions]);\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var isLoading = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1;\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var isError = loadOptions && optionsRecord.isRejected;\n  var isSuccess = filteredOptions.length > 0;\n\n  if (loadOptions) {\n    isSuccess = optionsRecord.isResolved && filteredOptions.length > 0 || isLoadingMore;\n  } //////////////////////////////////////////////////\n\n\n  var setOption = useCallback(function (option) {\n    dispatch({\n      type: 'OPTION_SELECTED',\n      option: option\n    });\n    onChange && onChange(option);\n    return option;\n  }, [onChange]);\n  var filterOptions = useCallback(function (_ref7) {\n    var controlsVisibility = _ref7.controlsVisibility,\n        _ref7$hideIfNoOptions = _ref7.hideIfNoOptions,\n        hideIfNoOptions = _ref7$hideIfNoOptions === void 0 ? true : _ref7$hideIfNoOptions,\n        searchText = _ref7.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n\n    if (controlsVisibility) {\n      if (filteredOptions.length === 0 && hideIfNoOptions) {\n        dropdownMenu.hide();\n      } else {\n        dropdownMenu.show();\n      }\n    }\n\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions,\n      controlsVisibility: controlsVisibility\n    });\n    return filteredOptions;\n  }, [dropdownMenu, loadOptions, options]);\n  var selectOption = useCallback(function (_ref8) {\n    var index = _ref8.index;\n\n    if (filteredOptions.length === 0) {\n      return undefined;\n    }\n\n    var option = filteredOptions[index];\n    option = setOption(option);\n    return option;\n  }, [filteredOptions, setOption]); //////////////////////////////////////////////////\n\n  var handleBlurInput = useCallback(function (event) {\n    var value = event.target.value;\n    dispatch({\n      type: 'INPUT_BLUR',\n      restrictToOptions: restrictToOptions,\n      value: value\n    });\n\n    if (inputValue && automaticSelection || highlightedIndex >= 0) {\n      selectOption({\n        index: highlightedIndex >= 0 ? highlightedIndex : 0\n      });\n    }\n\n    if (restrictToOptions && !selectedOption && highlightedIndex === -1) {\n      onChange && onChange('');\n    }\n\n    filterOptions({\n      searchText: value\n    });\n\n    if (isMouseOutsidePopover({\n      inputRef: inputRef,\n      mousePositionRef: mousePositionRef,\n      popoverRef: popoverRef\n    })) {\n      dropdownMenu.hide();\n    }\n\n    if (!selectedOption) {\n      onChange && onChange(value === '' ? '' : {\n        label: value\n      });\n    }\n  }, [automaticSelection, dropdownMenu, filterOptions, highlightedIndex, inputValue, onChange, restrictToOptions, selectOption, selectedOption]);\n  var handleChangeInput = useCallback(function (event) {\n    var inputValue = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      automaticSelection: automaticSelection,\n      inputValue: inputValue\n    });\n    filterOptions({\n      controlsVisibility: true,\n      hideIfNoOptions: !restrictToOptions,\n      searchText: inputValue\n    });\n  }, [automaticSelection, filterOptions, restrictToOptions]);\n  var handleClickInput = useCallback(function (event) {\n    var value = event.target.value;\n\n    if (document.activeElement !== event.target) {\n      event.target.focus();\n    }\n\n    filterOptions({\n      controlsVisibility: true,\n      searchText: value\n    });\n\n    if (loadOptions) {\n      if (defer) {\n        setDefer(false);\n        optionsRecord.load();\n      }\n\n      dropdownMenu.show();\n    }\n  }, [defer, dropdownMenu, filterOptions, loadOptions, optionsRecord]);\n  var handleFocusInput = useCallback(function (event) {\n    var value = event.target.value;\n    filterOptions({\n      controlsVisibility: true,\n      searchText: value\n    });\n  }, [filterOptions]);\n  var handleKeyDownInput = useCallback(function (event) {\n    if (event.keyCode === KEY_ESC) {\n      event.preventDefault();\n      dropdownMenu.hide();\n      dispatch({\n        type: 'KEY_ESC'\n      });\n    }\n\n    if (event.keyCode === KEY_DOWN) {\n      event.preventDefault();\n      dropdownMenu.show();\n      dispatch({\n        type: 'KEY_DOWN'\n      });\n    }\n\n    if (event.keyCode === KEY_UP) {\n      event.preventDefault();\n      dropdownMenu.show();\n      dispatch({\n        type: 'KEY_UP'\n      });\n    }\n\n    if (event.keyCode === KEY_ENTER) {\n      event.preventDefault();\n      dispatch({\n        type: 'KEY_ENTER',\n        restrictToOptions: restrictToOptions\n      });\n      dropdownMenu.hide();\n\n      if (highlightedIndex >= 0 || automaticSelection && inputValue) {\n        selectOption({\n          index: highlightedIndex\n        });\n      }\n    }\n  }, [automaticSelection, dropdownMenu, highlightedIndex, inputValue, restrictToOptions, selectOption]);\n  var handleClickItem = useCallback(function (index, option) {\n    return function () {\n      dispatch({\n        type: 'MOUSE_CLICK_ITEM',\n        index: index,\n        option: option\n      });\n      dropdownMenu.hide();\n      selectOption({\n        index: index\n      });\n    };\n  }, [dispatch, dropdownMenu, selectOption]);\n  var handleClear = useCallback(function () {\n    dispatch({\n      type: 'OPTION_CLEARED'\n    });\n    onChange && onChange('');\n  }, [onChange]);\n  var handleMouseEnterPopover = useCallback(function () {\n    dispatch({\n      type: 'MOUSE_ENTER_POPOVER',\n      automaticSelection: automaticSelection\n    });\n  }, [automaticSelection]);\n  var handleMouseLeavePopover = useCallback(function () {\n    dispatch({\n      type: 'MOUSE_LEAVE_POPOVER',\n      automaticSelection: automaticSelection\n    });\n  }, [automaticSelection]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]);\n  var handleCreate = useCallback(function (option) {\n    setOption(option);\n    dropdownMenu.hide();\n  }, [dropdownMenu, setOption]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    if (value) {\n      dispatch({\n        type: 'OPTION_SELECTED',\n        option: value\n      });\n    }\n  }, [automaticSelection, value]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [overrides, themeKey]); //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    'aria-expanded': dropdownMenuButtonProps['aria-expanded'],\n    'aria-haspopup': 'listbox',\n    'aria-owns': dropdownMenu.baseId,\n    role: 'combobox',\n    className: className,\n    children: /*#__PURE__*/createElement$1(AutosuggestContext.Provider, {\n      value: context\n    }, /*#__PURE__*/createElement$1(Input, _extends({}, omit(dropdownMenuButtonProps, 'type', 'className', 'role'), {\n      after: inputValue && /*#__PURE__*/createElement$1(ClearButton, {\n        onClick: handleClear,\n        buttonProps: clearButtonProps\n      }),\n      \"aria-autocomplete\": \"list\",\n      \"aria-activedescendant\": dropdownMenu === null || dropdownMenu === void 0 ? void 0 : (_dropdownMenu$items = dropdownMenu.items) === null || _dropdownMenu$items === void 0 ? void 0 : (_dropdownMenu$items$h = _dropdownMenu$items[highlightedIndex]) === null || _dropdownMenu$items$h === void 0 ? void 0 : _dropdownMenu$items$h.id,\n      className: inputClassName,\n      disabled: disabled,\n      inputProps: inputProps,\n      isLoading: isInputLoading,\n      onBlur: handleBlurInput,\n      onClick: handleClickInput,\n      onChange: handleChangeInput,\n      onKeyDown: handleKeyDownInput,\n      onFocus: handleFocusInput,\n      overrides: overrides,\n      placeholder: placeholder,\n      role: \"textbox\",\n      state: state,\n      value: inputValue\n    })), /*#__PURE__*/createElement$1(DropdownMenuPopover, _extends({}, dropdownMenu, {\n      ref: popoverRef,\n      className: dropdownMenuPopoverClassName,\n      isTabbable: false,\n      onMouseDown: function onMouseDown(e) {\n        return e.preventDefault();\n      },\n      onMouseEnter: handleMouseEnterPopover,\n      onMouseLeave: handleMouseLeavePopover,\n      overrides: overrides,\n      role: \"listbox\",\n      hideOnClickOutside: false,\n      unstable_autoFocusOnHide: false\n    }, popoverProps), dropdownMenu.visible && /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: itemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, isSuccess ? /*#__PURE__*/createElement$1(Fragment, null, filteredOptions.slice(0, limit).filter(Boolean).map(function (option, index) {\n      return /*#__PURE__*/createElement$1(AutosuggestItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": highlightedIndex === index,\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        onClick: handleClickItem(index, option),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        inputValue: inputValue,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            inputValue: inputValue\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })) : isLoading ? /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }) : isError ? /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }) : /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      inputValue: inputValue,\n      create: handleCreate,\n      itemProps: {\n        'aria-selected': highlightedIndex === 0\n      },\n      overrides: overrides\n    }))))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    popoverHeight: '300px',\n    options: [],\n    renderClearButton: ClearButton,\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel\n  },\n  themeKey: 'Autosuggest'\n});\nvar Autosuggest = createComponent(function (props) {\n  var textProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: textProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'Autosuggest'\n  },\n  themeKey: 'Autosuggest'\n}); //////////////////////////////////////////////////////////////////\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext = useContext(AutosuggestContext),\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: AutosuggestClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: AutosuggestClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Flex, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n}\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      inputValue = props.inputValue,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"inputValue\"]);\n\n  var _React$useContext2 = useContext(AutosuggestContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var className = useClassName({\n    style: AutosuggestItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return (string || '').replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(inputValue), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n}\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n}\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction isMouseOutsidePopover(_ref9) {\n  var inputRef = _ref9.inputRef,\n      mousePositionRef = _ref9.mousePositionRef,\n      popoverRef = _ref9.popoverRef;\n\n  var _inputRef$current$get = inputRef.current.getBoundingClientRect(),\n      top = _inputRef$current$get.top;\n\n  var _popoverRef$current$g = popoverRef.current.getBoundingClientRect(),\n      left = _popoverRef$current$g.left,\n      right = _popoverRef$current$g.right,\n      bottom = _popoverRef$current$g.bottom;\n\n  var _mousePositionRef$cur = mousePositionRef.current,\n      clientX = _mousePositionRef$cur.clientX,\n      clientY = _mousePositionRef$cur.clientY;\n  return left > clientX || right < clientX || top > clientY || bottom < clientY;\n}\n\nfunction getNewHighlightedIndex(_ref10) {\n  var _filteredOptions$newH;\n\n  var compare = _ref10.compare,\n      _ref10$highlightedInd = _ref10.highlightedIndex,\n      highlightedIndex = _ref10$highlightedInd === void 0 ? -1 : _ref10$highlightedInd,\n      filteredOptions = _ref10.filteredOptions,\n      _ref10$count = _ref10.count,\n      count = _ref10$count === void 0 ? 0 : _ref10$count;\n  var newHighlightedIndex = compare({\n    index: highlightedIndex,\n    optionsLength: filteredOptions.length - 1\n  });\n\n  if ((filteredOptions === null || filteredOptions === void 0 ? void 0 : (_filteredOptions$newH = filteredOptions[newHighlightedIndex]) === null || _filteredOptions$newH === void 0 ? void 0 : _filteredOptions$newH.disabled) && count < filteredOptions.length) {\n    return getNewHighlightedIndex({\n      compare: compare,\n      highlightedIndex: newHighlightedIndex,\n      filteredOptions: filteredOptions,\n      count: count + 1\n    });\n  } else {\n    if (count === filteredOptions.length) {\n      return -1;\n    }\n\n    return newHighlightedIndex;\n  }\n}\n\nexport { Autosuggest, AutosuggestContext };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/bumbag/es/Autosuggest/Autosuggest.js"],"names":["createContext","useRef","useState","useEffect","useReducer","useCallback","useMemo","createElement","createElement$1","Fragment","useContext","d","_objectWithoutPropertiesLoose","_","_objectSpread2","c","_extends","omit","useDebounce","useClassName","createComponent","createHook","Box","Box$1","Flex","Text","Spinner","Button","a","Autosuggest$1","b","AutosuggestPopover","I","ItemsWrapper","AutosuggestInput","AutosuggestClearButtonWrapper","e","AutosuggestClearButton","f","AutosuggestItemText","useLoads","Input","DropdownMenuButton","DropdownMenuPopover","DropdownMenu","AutosuggestItem","AutosuggestStaticItem","AutosuggestContext","KEY_ENTER","KEY_ESC","KEY_UP","KEY_DOWN","reducer","state","event","type","page","highlightedIndex","automaticSelection","getNewHighlightedIndex","compare","_ref","index","optionsLength","filteredOptions","inputValue","selectedOption","undefined","restrictToOptions","newHighlightedIndex","_ref2","_newHighlightedIndex","_ref3","option","disabled","label","options","_event$option$label","_event$option","value","isMouseInsidePopover","useProps","props","_ref4","_dropdownMenu$items","_dropdownMenu$items$h","themeKey","cacheKey","clearButtonProps","dropdownMenuInitialState","emptyText","errorText","loadingText","loadingMoreText","popoverProps","itemProps","inputProps","isInputLoading","isLoading","limit","loadOptions","loadVariables","onChange","initialOptions","overrides","pagination","ClearButton","renderClearButton","Empty","renderEmpty","Error","renderError","Loading","renderLoading","LoadingMore","renderLoadingMore","Option","renderOption","placeholder","restProps","boxProps","inputRef","mousePositionRef","popoverRef","_React$useState","defer","setDefer","_React$useState2","blockLoad","setBlockLoad","dropdownMenu","loop","gutter","dropdownMenuButtonProps","ref","handleMouseMove","current","window","document","addEventListener","cleanup","removeEventListener","className","style","styleProps","prevClassName","dropdownMenuPopoverClassName","themeKeySuffix","itemsWrapperClassName","inputClassName","_React$useReducer","_React$useReducer$","dispatch","debouncedInputValue","getOptions","_ref5","_ref5$searchText","searchText","variables","then","_ref6","fetchedOptions","newOptions","concat","length","Promise","res","optionsRecord","isResolved","_optionsRecord$respon","_optionsRecord$respon2","_options","response","isPending","isIdle","isLoadingMore","isError","isRejected","isSuccess","setOption","filterOptions","_ref7","controlsVisibility","_ref7$hideIfNoOptions","hideIfNoOptions","filter","toLowerCase","includes","trim","hide","show","selectOption","_ref8","handleBlurInput","target","isMouseOutsidePopover","handleChangeInput","handleClickInput","activeElement","focus","load","handleFocusInput","handleKeyDownInput","keyCode","preventDefault","handleClickItem","handleClear","handleMouseEnterPopover","handleMouseLeavePopover","handleScrollPopover","currentTarget","scrollHeight","offsetHeight","scrollTop","handleCreate","context","baseId","role","children","Provider","after","onClick","buttonProps","items","id","onBlur","onKeyDown","onFocus","isTabbable","onMouseDown","onMouseEnter","onMouseLeave","hideOnClickOutside","unstable_autoFocusOnHide","visible","use","onScroll","slice","Boolean","map","key","iconAfter","iconAfterProps","iconBefore","iconBeforeProps","MatchedLabel","_MatchedLabel","create","defaultProps","popoverHeight","Autosuggest","textProps","component","htmlProps","attach","displayName","_React$useContext","wrapperClassName","buttonClassName","Close","iconProps","fontSize","size","_React$useContext2","escapeStringRegexp","string","replace","match","RegExp","preText","highlightedText","postText","fontWeight","display","alignItems","marginLeft","_ref9","_inputRef$current$get","getBoundingClientRect","top","_popoverRef$current$g","left","right","bottom","_mousePositionRef$cur","clientX","clientY","_ref10","_filteredOptions$newH","_ref10$highlightedInd","_ref10$count","count"],"mappings":"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","sourcesContent":["import { createContext, useRef, useState, useEffect, useReducer, useCallback, useMemo, createElement as createElement$1, Fragment, useContext } from 'react';\nimport '../Provider/ThemeContext.js';\nimport 'classnames';\nimport 'emotion';\nimport '@emotion/core';\nimport 'emotion-theming';\nimport '@emotion/styled';\nimport '../utils/useTheme.js';\nimport '../utils/useLocalStorage.js';\nimport { d as _objectWithoutPropertiesLoose, _ as _objectSpread2, c as _extends } from '../_rollupPluginBabelHelpers.js';\nimport { omit } from '../utils/omit.js';\nimport '../ColorMode/utils.js';\nimport '../ColorMode/ColorModeContext.js';\nimport '../utils/pick.js';\nimport '../utils/cssProps.js';\nimport 'lodash/kebabCase';\nimport 'tinycolor2';\nimport '../utils/isFunction.js';\nimport '../utils/get.js';\nimport '../getCSSFromStyleObject.js';\nimport '../utils/useStyle.js';\nimport '../utils/useOptionsState.js';\nimport '../utils/omitBy.js';\nimport '../utils/useDefaultProps.js';\nimport { useDebounce } from '../utils/useDebounce.js';\nimport 'lodash/uniq';\nimport { useClassName } from '../utils/useClassName.js';\nimport 'reakit/Id';\nimport '../utils/uniqueId.js';\nimport '../utils/parseIcons.js';\nimport '../utils/colors.js';\nimport '../utils/palette.js';\nimport '../utils/mergeRefs.js';\nimport 'deepmerge';\nimport 'lodash/set';\nimport '../utils/bindFns.js';\nimport { createComponent } from '../utils/createComponent.js';\nimport { createElement } from '../utils/createElement.js';\nimport { createHook } from '../utils/createHook.js';\nimport '../utils/fieldAdaptors.js';\nimport 'capsize';\nimport '../utils/getCapsizeStyles.js';\nimport '../utils/getHiddenScrollbarStyles.js';\nimport '@emotion/is-prop-valid';\nimport '../utils/htmlProps.js';\nimport '../utils/OutsideClickHandler.js';\nimport '../theme/palette.js';\nimport { Box } from 'reakit';\nimport '../Button.styles.js';\nimport 'conditional-wrap';\nimport '../Box.styles.js';\nimport { Box as Box$1 } from '../Box/Box.js';\nimport '../Flex.styles.js';\nimport { Flex } from '../Flex/Flex.js';\nimport '../Icon.styles.js';\nimport '../Icon/Icon.js';\nimport '../Text.styles.js';\nimport '../Text/Text.js';\nimport '../Text/TextBlock.js';\nimport '../Text/TextInline.js';\nimport { Text } from '../Text/index.js';\nimport '../Spinner.styles.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport '../Button/Button.js';\nimport 'reakit/VisuallyHidden';\nimport '../Button/ButtonClose.js';\nimport { Button } from '../Button/index.js';\nimport { a as Autosuggest$1, b as AutosuggestPopover, I as ItemsWrapper, c as AutosuggestInput, d as AutosuggestClearButtonWrapper, e as AutosuggestClearButton, f as AutosuggestItemText } from '../Autosuggest.styles.js';\nimport { useLoads } from 'react-loads-next';\nimport '../Input.styles.js';\nimport 'react-input-mask';\nimport '../FieldWrapper.styles.js';\nimport '../Card.styles.js';\nimport '../Card/Card.js';\nimport '../Card/index.js';\nimport '../Disclosure.styles.js';\nimport '../Disclosure/DisclosureState.js';\nimport '../Disclosure/Disclosure.js';\nimport '../Disclosure/DisclosureContent.js';\nimport '../Disclosure/index.js';\nimport '../Label.styles.js';\nimport '../Label/Label.js';\nimport '../FieldWrapper/FieldWrapper.js';\nimport '../Group.styles.js';\nimport '../Group/Group.js';\nimport '../Input/Input.js';\nimport { Input } from '../Input/index.js';\nimport '../Menu.styles.js';\nimport '../DropdownMenu.styles.js';\nimport { DropdownMenuButton } from '../DropdownMenu/DropdownMenuButton.js';\nimport '../Modal.styles.js';\nimport '../Popover.styles.js';\nimport { DropdownMenuPopover } from '../DropdownMenu/DropdownMenuPopover.js';\nimport '../DropdownMenu/DropdownMenuState.js';\nimport '../DropdownMenu/DropdownMenu.js';\nimport '../DropdownMenu/DropdownMenuItem.js';\nimport '../Divider.styles.js';\nimport '../Divider/Divider.js';\nimport '../DropdownMenu/DropdownMenuDivider.js';\nimport '../DropdownMenu/DropdownMenuGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionGroup.js';\nimport '../DropdownMenu/DropdownMenuOptionItem.js';\nimport { DropdownMenu } from '../DropdownMenu/index.js';\nimport { AutosuggestItem } from './AutosuggestItem.js';\nimport { AutosuggestStaticItem } from './AutosuggestStaticItem.js';\n\nvar AutosuggestContext = createContext({});\nvar KEY_ENTER = 13;\nvar KEY_ESC = 27;\nvar KEY_UP = 38;\nvar KEY_DOWN = 40;\n\nfunction reducer(state, event) {\n  switch (event.type) {\n    case 'INPUT_CHANGE':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: 1,\n          highlightedIndex: event.automaticSelection ? getNewHighlightedIndex({\n            compare: function compare(_ref) {\n              var index = _ref.index,\n                  optionsLength = _ref.optionsLength;\n              return index < optionsLength ? index + 1 : 0;\n            },\n            highlightedIndex: -1,\n            filteredOptions: state.filteredOptions\n          }) : -1,\n          inputValue: event.inputValue,\n          selectedOption: undefined\n        });\n      }\n\n    case 'INPUT_BLUR':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          page: 1,\n          inputValue: event.restrictToOptions && state.highlightedIndex === -1 && !state.selectedOption ? '' : state.inputValue\n        });\n      }\n\n    case 'KEY_UP':\n      {\n        var newHighlightedIndex = getNewHighlightedIndex({\n          compare: function compare(_ref2) {\n            var index = _ref2.index,\n                optionsLength = _ref2.optionsLength;\n            return index > 0 ? index - 1 : optionsLength;\n          },\n          highlightedIndex: state.highlightedIndex,\n          filteredOptions: state.filteredOptions\n        });\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: newHighlightedIndex\n        });\n      }\n\n    case 'KEY_DOWN':\n      {\n        var _newHighlightedIndex = getNewHighlightedIndex({\n          compare: function compare(_ref3) {\n            var index = _ref3.index,\n                optionsLength = _ref3.optionsLength;\n            return index < optionsLength ? index + 1 : 0;\n          },\n          highlightedIndex: state.highlightedIndex,\n          filteredOptions: state.filteredOptions\n        });\n\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: _newHighlightedIndex\n        });\n      }\n\n    case 'KEY_ESC':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: ''\n        });\n      }\n\n    case 'KEY_ENTER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: event.restrictToOptions && state.highlightedIndex === -1 ? '' : state.inputValue\n        });\n      }\n\n    case 'MOUSE_CLICK_ITEM':\n      {\n        if (event.option && event.option.disabled) return state;\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: -1,\n          inputValue: state.filteredOptions[event.index].label\n        });\n      }\n\n    case 'OPTIONS_SET':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          options: event.options\n        });\n      }\n\n    case 'OPTIONS_FILTERED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: event.filteredOptions\n        });\n      }\n\n    case 'OPTION_SELECTED':\n      {\n        var _event$option$label, _event$option;\n\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: [event.option],\n          inputValue: (_event$option$label = event === null || event === void 0 ? void 0 : (_event$option = event.option) === null || _event$option === void 0 ? void 0 : _event$option.label) !== null && _event$option$label !== void 0 ? _event$option$label : '',\n          selectedOption: event.option,\n          value: event.option\n        });\n      }\n\n    case 'OPTION_CLEARED':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          filteredOptions: state.options,\n          inputValue: '',\n          selectedOption: undefined,\n          value: undefined\n        });\n      }\n\n    case 'MOUSE_ENTER_POPOVER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isMouseInsidePopover: true\n        });\n      }\n\n    case 'MOUSE_LEAVE_POPOVER':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          highlightedIndex: state.inputValue && event.automaticSelection ? 0 : -1,\n          isMouseInsidePopover: false\n        });\n      }\n\n    case 'PAGE_INCREMENT':\n      {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          page: state.page + 1\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nvar useProps = createHook(function (props, _ref4) {\n  var _dropdownMenu$items, _dropdownMenu$items$h;\n\n  var themeKey = _ref4.themeKey;\n\n  var automaticSelection = props.automaticSelection,\n      cacheKey = props.cacheKey,\n      clearButtonProps = props.clearButtonProps,\n      disabled = props.disabled,\n      dropdownMenuInitialState = props.dropdownMenuInitialState,\n      emptyText = props.emptyText,\n      errorText = props.errorText,\n      loadingText = props.loadingText,\n      loadingMoreText = props.loadingMoreText,\n      popoverProps = props.popoverProps,\n      itemProps = props.itemProps,\n      inputProps = props.inputProps,\n      isInputLoading = props.isLoading,\n      limit = props.limit,\n      loadOptions = props.loadOptions,\n      loadVariables = props.loadVariables,\n      onChange = props.onChange,\n      initialOptions = props.options,\n      overrides = props.overrides,\n      pagination = props.pagination,\n      ClearButton = props.renderClearButton,\n      Empty = props.renderEmpty,\n      Error = props.renderError,\n      Loading = props.renderLoading,\n      LoadingMore = props.renderLoadingMore,\n      Option = props.renderOption,\n      placeholder = props.placeholder,\n      restrictToOptions = props.restrictToOptions,\n      state = props.state,\n      value = props.value,\n      restProps = _objectWithoutPropertiesLoose(props, [\"automaticSelection\", \"cacheKey\", \"clearButtonProps\", \"disabled\", \"dropdownMenuInitialState\", \"emptyText\", \"errorText\", \"loadingText\", \"loadingMoreText\", \"popoverProps\", \"itemProps\", \"inputProps\", \"isLoading\", \"limit\", \"loadOptions\", \"loadVariables\", \"onChange\", \"options\", \"overrides\", \"pagination\", \"renderClearButton\", \"renderEmpty\", \"renderError\", \"renderLoading\", \"renderLoadingMore\", \"renderOption\", \"placeholder\", \"restrictToOptions\", \"state\", \"value\"]); //////////////////////////////////////////////////\n\n\n  var boxProps = Box$1.useProps(restProps); //////////////////////////////////////////////////\n\n  var inputRef = useRef();\n  var mousePositionRef = useRef();\n  var popoverRef = useRef();\n\n  var _React$useState = useState(props.defer || !loadOptions),\n      defer = _React$useState[0],\n      setDefer = _React$useState[1];\n\n  var _React$useState2 = useState(false),\n      blockLoad = _React$useState2[0],\n      setBlockLoad = _React$useState2[1]; //////////////////////////////////////////////////\n\n\n  var dropdownMenu = DropdownMenu.useState(_objectSpread2({\n    loop: true,\n    gutter: 4\n  }, dropdownMenuInitialState));\n  var dropdownMenuButtonProps = DropdownMenuButton.useProps(_objectSpread2(_objectSpread2({}, dropdownMenu), {}, {\n    ref: inputRef\n  })); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    function handleMouseMove(e) {\n      mousePositionRef.current = e;\n    }\n\n    if (typeof window !== 'undefined') {\n      window.document.addEventListener('mousemove', handleMouseMove);\n    }\n\n    return function cleanup() {\n      window.document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }); //////////////////////////////////////////////////\n\n  var className = useClassName({\n    style: Autosuggest$1,\n    styleProps: props,\n    themeKey: themeKey,\n    prevClassName: boxProps.className\n  });\n  var dropdownMenuPopoverClassName = useClassName({\n    style: AutosuggestPopover,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Popover'\n  });\n  var itemsWrapperClassName = useClassName({\n    style: ItemsWrapper,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemsWrapper'\n  });\n  var inputClassName = useClassName({\n    style: AutosuggestInput,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'Input'\n  }); //////////////////////////////////////////////////\n\n  var _React$useReducer = useReducer(reducer, {\n    highlightedIndex: -1,\n    inputValue: value === null || value === void 0 ? void 0 : value.label,\n    isMouseInsidePopover: false,\n    filteredOptions: initialOptions,\n    options: initialOptions,\n    page: 1,\n    value: ''\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      highlightedIndex = _React$useReducer$.highlightedIndex,\n      inputValue = _React$useReducer$.inputValue,\n      filteredOptions = _React$useReducer$.filteredOptions,\n      options = _React$useReducer$.options,\n      page = _React$useReducer$.page,\n      selectedOption = _React$useReducer$.selectedOption,\n      dispatch = _React$useReducer[1]; //////////////////////////////////////////////////\n\n\n  var debouncedInputValue = useDebounce(inputValue, 500);\n  var getOptions = useCallback(function (_ref5) {\n    var loadVariables = _ref5.loadVariables,\n        page = _ref5.page,\n        _ref5$searchText = _ref5.searchText,\n        searchText = _ref5$searchText === void 0 ? '' : _ref5$searchText;\n\n    if (typeof loadOptions === 'function') {\n      if (blockLoad) return {\n        options: options\n      };\n      return loadOptions({\n        page: page,\n        searchText: searchText,\n        variables: loadVariables\n      }).then(function (_ref6) {\n        var fetchedOptions = _ref6.options;\n        var newOptions = [].concat(options, fetchedOptions);\n\n        if (page === 1) {\n          newOptions = fetchedOptions;\n        }\n\n        if (page > 1 && fetchedOptions.length === 0) {\n          setBlockLoad(true);\n        }\n\n        return {\n          options: newOptions\n        };\n      });\n    }\n\n    return new Promise(function (res) {\n      return res(undefined);\n    });\n  }, [blockLoad, loadOptions, options]);\n  var optionsRecord = useLoads(cacheKey, getOptions, {\n    defer: defer,\n    variables: [{\n      loadVariables: loadVariables,\n      page: page,\n      searchText: debouncedInputValue\n    }]\n  }); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    dispatch({\n      type: 'OPTIONS_SET',\n      options: initialOptions\n    });\n  }, [initialOptions]);\n  useEffect(function () {\n    if (loadOptions && optionsRecord.isResolved) {\n      var _optionsRecord$respon, _optionsRecord$respon2;\n\n      var _options = (_optionsRecord$respon = (_optionsRecord$respon2 = optionsRecord.response) === null || _optionsRecord$respon2 === void 0 ? void 0 : _optionsRecord$respon2.options) !== null && _optionsRecord$respon !== void 0 ? _optionsRecord$respon : [];\n\n      dispatch({\n        type: 'OPTIONS_SET',\n        options: _options\n      });\n      dispatch({\n        type: 'OPTIONS_FILTERED',\n        filteredOptions: _options\n      });\n    }\n  }, [loadOptions, optionsRecord.isResolved, optionsRecord.response]); //////////////////////////////////////////////////\n\n  var isLoading = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page === 1;\n  var isLoadingMore = loadOptions && (optionsRecord.isPending || optionsRecord.isIdle) && page > 1;\n  var isError = loadOptions && optionsRecord.isRejected;\n  var isSuccess = filteredOptions.length > 0;\n\n  if (loadOptions) {\n    isSuccess = optionsRecord.isResolved && filteredOptions.length > 0 || isLoadingMore;\n  } //////////////////////////////////////////////////\n\n\n  var setOption = useCallback(function (option) {\n    dispatch({\n      type: 'OPTION_SELECTED',\n      option: option\n    });\n    onChange && onChange(option);\n    return option;\n  }, [onChange]);\n  var filterOptions = useCallback(function (_ref7) {\n    var controlsVisibility = _ref7.controlsVisibility,\n        _ref7$hideIfNoOptions = _ref7.hideIfNoOptions,\n        hideIfNoOptions = _ref7$hideIfNoOptions === void 0 ? true : _ref7$hideIfNoOptions,\n        searchText = _ref7.searchText;\n    if (loadOptions) return;\n    var filteredOptions = options.filter(function (option) {\n      return option.label.toLowerCase().includes(searchText.trim().toLowerCase());\n    });\n\n    if (controlsVisibility) {\n      if (filteredOptions.length === 0 && hideIfNoOptions) {\n        dropdownMenu.hide();\n      } else {\n        dropdownMenu.show();\n      }\n    }\n\n    dispatch({\n      type: 'OPTIONS_FILTERED',\n      filteredOptions: filteredOptions,\n      controlsVisibility: controlsVisibility\n    });\n    return filteredOptions;\n  }, [dropdownMenu, loadOptions, options]);\n  var selectOption = useCallback(function (_ref8) {\n    var index = _ref8.index;\n\n    if (filteredOptions.length === 0) {\n      return undefined;\n    }\n\n    var option = filteredOptions[index];\n    option = setOption(option);\n    return option;\n  }, [filteredOptions, setOption]); //////////////////////////////////////////////////\n\n  var handleBlurInput = useCallback(function (event) {\n    var value = event.target.value;\n    dispatch({\n      type: 'INPUT_BLUR',\n      restrictToOptions: restrictToOptions,\n      value: value\n    });\n\n    if (inputValue && automaticSelection || highlightedIndex >= 0) {\n      selectOption({\n        index: highlightedIndex >= 0 ? highlightedIndex : 0\n      });\n    }\n\n    if (restrictToOptions && !selectedOption && highlightedIndex === -1) {\n      onChange && onChange('');\n    }\n\n    filterOptions({\n      searchText: value\n    });\n\n    if (isMouseOutsidePopover({\n      inputRef: inputRef,\n      mousePositionRef: mousePositionRef,\n      popoverRef: popoverRef\n    })) {\n      dropdownMenu.hide();\n    }\n\n    if (!selectedOption) {\n      onChange && onChange(value === '' ? '' : {\n        label: value\n      });\n    }\n  }, [automaticSelection, dropdownMenu, filterOptions, highlightedIndex, inputValue, onChange, restrictToOptions, selectOption, selectedOption]);\n  var handleChangeInput = useCallback(function (event) {\n    var inputValue = event.target.value || '';\n    setBlockLoad(false);\n    dispatch({\n      type: 'INPUT_CHANGE',\n      automaticSelection: automaticSelection,\n      inputValue: inputValue\n    });\n    filterOptions({\n      controlsVisibility: true,\n      hideIfNoOptions: !restrictToOptions,\n      searchText: inputValue\n    });\n  }, [automaticSelection, filterOptions, restrictToOptions]);\n  var handleClickInput = useCallback(function (event) {\n    var value = event.target.value;\n\n    if (document.activeElement !== event.target) {\n      event.target.focus();\n    }\n\n    filterOptions({\n      controlsVisibility: true,\n      searchText: value\n    });\n\n    if (loadOptions) {\n      if (defer) {\n        setDefer(false);\n        optionsRecord.load();\n      }\n\n      dropdownMenu.show();\n    }\n  }, [defer, dropdownMenu, filterOptions, loadOptions, optionsRecord]);\n  var handleFocusInput = useCallback(function (event) {\n    var value = event.target.value;\n    filterOptions({\n      controlsVisibility: true,\n      searchText: value\n    });\n  }, [filterOptions]);\n  var handleKeyDownInput = useCallback(function (event) {\n    if (event.keyCode === KEY_ESC) {\n      event.preventDefault();\n      dropdownMenu.hide();\n      dispatch({\n        type: 'KEY_ESC'\n      });\n    }\n\n    if (event.keyCode === KEY_DOWN) {\n      event.preventDefault();\n      dropdownMenu.show();\n      dispatch({\n        type: 'KEY_DOWN'\n      });\n    }\n\n    if (event.keyCode === KEY_UP) {\n      event.preventDefault();\n      dropdownMenu.show();\n      dispatch({\n        type: 'KEY_UP'\n      });\n    }\n\n    if (event.keyCode === KEY_ENTER) {\n      event.preventDefault();\n      dispatch({\n        type: 'KEY_ENTER',\n        restrictToOptions: restrictToOptions\n      });\n      dropdownMenu.hide();\n\n      if (highlightedIndex >= 0 || automaticSelection && inputValue) {\n        selectOption({\n          index: highlightedIndex\n        });\n      }\n    }\n  }, [automaticSelection, dropdownMenu, highlightedIndex, inputValue, restrictToOptions, selectOption]);\n  var handleClickItem = useCallback(function (index, option) {\n    return function () {\n      dispatch({\n        type: 'MOUSE_CLICK_ITEM',\n        index: index,\n        option: option\n      });\n      dropdownMenu.hide();\n      selectOption({\n        index: index\n      });\n    };\n  }, [dispatch, dropdownMenu, selectOption]);\n  var handleClear = useCallback(function () {\n    dispatch({\n      type: 'OPTION_CLEARED'\n    });\n    onChange && onChange('');\n  }, [onChange]);\n  var handleMouseEnterPopover = useCallback(function () {\n    dispatch({\n      type: 'MOUSE_ENTER_POPOVER',\n      automaticSelection: automaticSelection\n    });\n  }, [automaticSelection]);\n  var handleMouseLeavePopover = useCallback(function () {\n    dispatch({\n      type: 'MOUSE_LEAVE_POPOVER',\n      automaticSelection: automaticSelection\n    });\n  }, [automaticSelection]);\n  var handleScrollPopover = useCallback(function (event) {\n    var target = event.currentTarget;\n\n    if (pagination && !isLoadingMore && !blockLoad && target.scrollHeight > target.offsetHeight && target.scrollHeight - target.offsetHeight - target.scrollTop <= 200) {\n      dispatch({\n        type: 'PAGE_INCREMENT'\n      });\n    }\n\n    return;\n  }, [blockLoad, isLoadingMore, pagination]);\n  var handleCreate = useCallback(function (option) {\n    setOption(option);\n    dropdownMenu.hide();\n  }, [dropdownMenu, setOption]); //////////////////////////////////////////////////\n\n  useEffect(function () {\n    if (value) {\n      dispatch({\n        type: 'OPTION_SELECTED',\n        option: value\n      });\n    }\n  }, [automaticSelection, value]); //////////////////////////////////////////////////\n\n  var context = useMemo(function () {\n    return {\n      overrides: overrides,\n      themeKey: themeKey\n    };\n  }, [overrides, themeKey]); //////////////////////////////////////////////////\n\n  return _objectSpread2(_objectSpread2({}, boxProps), {}, {\n    'aria-expanded': dropdownMenuButtonProps['aria-expanded'],\n    'aria-haspopup': 'listbox',\n    'aria-owns': dropdownMenu.baseId,\n    role: 'combobox',\n    className: className,\n    children: /*#__PURE__*/createElement$1(AutosuggestContext.Provider, {\n      value: context\n    }, /*#__PURE__*/createElement$1(Input, _extends({}, omit(dropdownMenuButtonProps, 'type', 'className', 'role'), {\n      after: inputValue && /*#__PURE__*/createElement$1(ClearButton, {\n        onClick: handleClear,\n        buttonProps: clearButtonProps\n      }),\n      \"aria-autocomplete\": \"list\",\n      \"aria-activedescendant\": dropdownMenu === null || dropdownMenu === void 0 ? void 0 : (_dropdownMenu$items = dropdownMenu.items) === null || _dropdownMenu$items === void 0 ? void 0 : (_dropdownMenu$items$h = _dropdownMenu$items[highlightedIndex]) === null || _dropdownMenu$items$h === void 0 ? void 0 : _dropdownMenu$items$h.id,\n      className: inputClassName,\n      disabled: disabled,\n      inputProps: inputProps,\n      isLoading: isInputLoading,\n      onBlur: handleBlurInput,\n      onClick: handleClickInput,\n      onChange: handleChangeInput,\n      onKeyDown: handleKeyDownInput,\n      onFocus: handleFocusInput,\n      overrides: overrides,\n      placeholder: placeholder,\n      role: \"textbox\",\n      state: state,\n      value: inputValue\n    })), /*#__PURE__*/createElement$1(DropdownMenuPopover, _extends({}, dropdownMenu, {\n      ref: popoverRef,\n      className: dropdownMenuPopoverClassName,\n      isTabbable: false,\n      onMouseDown: function onMouseDown(e) {\n        return e.preventDefault();\n      },\n      onMouseEnter: handleMouseEnterPopover,\n      onMouseLeave: handleMouseLeavePopover,\n      overrides: overrides,\n      role: \"listbox\",\n      hideOnClickOutside: false,\n      unstable_autoFocusOnHide: false\n    }, popoverProps), dropdownMenu.visible && /*#__PURE__*/createElement$1(Box$1, {\n      use: \"ul\",\n      className: itemsWrapperClassName,\n      onScroll: handleScrollPopover,\n      overrides: overrides\n    }, isSuccess ? /*#__PURE__*/createElement$1(Fragment, null, filteredOptions.slice(0, limit).filter(Boolean).map(function (option, index) {\n      return /*#__PURE__*/createElement$1(AutosuggestItem, _extends({\n        key: option.key || index\n      }, dropdownMenu, {\n        \"aria-selected\": highlightedIndex === index,\n        \"aria-disabled\": option.disabled,\n        disabled: option.disabled,\n        iconAfter: option.iconAfter,\n        iconAfterProps: option.iconAfterProps,\n        iconBefore: option.iconBefore,\n        iconBeforeProps: option.iconBeforeProps,\n        onClick: handleClickItem(index, option),\n        overrides: overrides\n      }, itemProps), /*#__PURE__*/createElement$1(Option, {\n        label: option.label,\n        inputValue: inputValue,\n        option: option,\n        overrides: overrides,\n        MatchedLabel: function MatchedLabel(props) {\n          return /*#__PURE__*/createElement$1(_MatchedLabel, _extends({\n            label: option.label,\n            inputValue: inputValue\n          }, props));\n        }\n      }));\n    }), isLoadingMore && /*#__PURE__*/createElement$1(LoadingMore, {\n      loadingText: loadingMoreText,\n      overrides: overrides\n    })) : isLoading ? /*#__PURE__*/createElement$1(Loading, {\n      loadingText: loadingText,\n      overrides: overrides\n    }) : isError ? /*#__PURE__*/createElement$1(Error, {\n      errorText: errorText,\n      overrides: overrides\n    }) : /*#__PURE__*/createElement$1(Empty, {\n      emptyText: emptyText,\n      inputValue: inputValue,\n      create: handleCreate,\n      itemProps: {\n        'aria-selected': highlightedIndex === 0\n      },\n      overrides: overrides\n    }))))\n  });\n}, {\n  defaultProps: {\n    cacheKey: 'bb-options',\n    disabled: false,\n    emptyText: 'No results found',\n    errorText: 'An error occurred',\n    loadingText: 'Loading...',\n    loadingMoreText: 'Loading...',\n    popoverHeight: '300px',\n    options: [],\n    renderClearButton: ClearButton,\n    renderEmpty: Empty,\n    renderError: Error,\n    renderLoading: Loading,\n    renderLoadingMore: Loading,\n    renderOption: _MatchedLabel\n  },\n  themeKey: 'Autosuggest'\n});\nvar Autosuggest = createComponent(function (props) {\n  var textProps = useProps(props);\n  return createElement({\n    children: props.children,\n    component: Box,\n    use: props.use,\n    htmlProps: textProps\n  });\n}, {\n  attach: {\n    useProps: useProps,\n    displayName: 'Autosuggest'\n  },\n  themeKey: 'Autosuggest'\n}); //////////////////////////////////////////////////////////////////\n\nfunction ClearButton(props) {\n  var buttonProps = props.buttonProps,\n      onClick = props.onClick,\n      restProps = _objectWithoutPropertiesLoose(props, [\"buttonProps\", \"onClick\"]);\n\n  var _React$useContext = useContext(AutosuggestContext),\n      overrides = _React$useContext.overrides,\n      themeKey = _React$useContext.themeKey;\n\n  var wrapperClassName = useClassName({\n    style: AutosuggestClearButtonWrapper,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButtonWrapper'\n  });\n  var buttonClassName = useClassName({\n    style: AutosuggestClearButton,\n    styleProps: _objectSpread2(_objectSpread2({}, props), {}, {\n      overrides: overrides\n    }),\n    themeKey: themeKey,\n    themeKeySuffix: 'ClearButton'\n  });\n  return /*#__PURE__*/createElement$1(Flex, _extends({\n    className: wrapperClassName,\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Button.Close, _extends({\n    className: buttonClassName,\n    onClick: onClick,\n    iconProps: {\n      fontSize: '200'\n    },\n    size: \"small\",\n    onMouseDown: function onMouseDown(e) {\n      return e.preventDefault();\n    },\n    overrides: overrides\n  }, buttonProps)));\n}\n\nfunction _MatchedLabel(props) {\n  var label = props.label,\n      inputValue = props.inputValue,\n      restProps = _objectWithoutPropertiesLoose(props, [\"label\", \"inputValue\"]);\n\n  var _React$useContext2 = useContext(AutosuggestContext),\n      overrides = _React$useContext2.overrides,\n      themeKey = _React$useContext2.themeKey;\n\n  var className = useClassName({\n    style: AutosuggestItemText,\n    styleProps: props,\n    themeKey: themeKey,\n    themeKeySuffix: 'ItemText'\n  });\n\n  var escapeStringRegexp = function escapeStringRegexp(string) {\n    return (string || '').replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n  };\n\n  var match = label.match(new RegExp(escapeStringRegexp(inputValue), 'i')) || [];\n  var preText = label.slice(0, match.index);\n  var highlightedText = match[0];\n  var postText = label.slice(match.index + (match[0] || '').length);\n  return highlightedText ? /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), preText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, preText), highlightedText && /*#__PURE__*/createElement$1(Text, {\n    fontWeight: \"semibold\",\n    overrides: overrides\n  }, highlightedText), postText && /*#__PURE__*/createElement$1(Text, {\n    overrides: overrides\n  }, postText)) : /*#__PURE__*/createElement$1(Text, _extends({\n    className: className,\n    overrides: overrides\n  }, restProps), label);\n}\n\nfunction Empty(props) {\n  var emptyText = props.emptyText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"emptyText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    overrides: overrides\n  }, restProps), emptyText);\n}\n\nfunction Error(props) {\n  var errorText = props.errorText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"errorText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    overrides: overrides\n  }, restProps), errorText);\n}\n\nfunction Loading(props) {\n  var loadingText = props.loadingText,\n      overrides = props.overrides,\n      restProps = _objectWithoutPropertiesLoose(props, [\"loadingText\", \"overrides\"]);\n\n  return /*#__PURE__*/createElement$1(AutosuggestStaticItem, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    overrides: overrides\n  }, restProps), /*#__PURE__*/createElement$1(Spinner, {\n    size: \"small\",\n    overrides: overrides\n  }), /*#__PURE__*/createElement$1(Text, {\n    marginLeft: \"major-1\",\n    overrides: overrides\n  }, loadingText));\n} //////////////////////////////////////////////////////////////////\n\n\nfunction isMouseOutsidePopover(_ref9) {\n  var inputRef = _ref9.inputRef,\n      mousePositionRef = _ref9.mousePositionRef,\n      popoverRef = _ref9.popoverRef;\n\n  var _inputRef$current$get = inputRef.current.getBoundingClientRect(),\n      top = _inputRef$current$get.top;\n\n  var _popoverRef$current$g = popoverRef.current.getBoundingClientRect(),\n      left = _popoverRef$current$g.left,\n      right = _popoverRef$current$g.right,\n      bottom = _popoverRef$current$g.bottom;\n\n  var _mousePositionRef$cur = mousePositionRef.current,\n      clientX = _mousePositionRef$cur.clientX,\n      clientY = _mousePositionRef$cur.clientY;\n  return left > clientX || right < clientX || top > clientY || bottom < clientY;\n}\n\nfunction getNewHighlightedIndex(_ref10) {\n  var _filteredOptions$newH;\n\n  var compare = _ref10.compare,\n      _ref10$highlightedInd = _ref10.highlightedIndex,\n      highlightedIndex = _ref10$highlightedInd === void 0 ? -1 : _ref10$highlightedInd,\n      filteredOptions = _ref10.filteredOptions,\n      _ref10$count = _ref10.count,\n      count = _ref10$count === void 0 ? 0 : _ref10$count;\n  var newHighlightedIndex = compare({\n    index: highlightedIndex,\n    optionsLength: filteredOptions.length - 1\n  });\n\n  if ((filteredOptions === null || filteredOptions === void 0 ? void 0 : (_filteredOptions$newH = filteredOptions[newHighlightedIndex]) === null || _filteredOptions$newH === void 0 ? void 0 : _filteredOptions$newH.disabled) && count < filteredOptions.length) {\n    return getNewHighlightedIndex({\n      compare: compare,\n      highlightedIndex: newHighlightedIndex,\n      filteredOptions: filteredOptions,\n      count: count + 1\n    });\n  } else {\n    if (count === filteredOptions.length) {\n      return -1;\n    }\n\n    return newHighlightedIndex;\n  }\n}\n\nexport { Autosuggest, AutosuggestContext };\n"]},"metadata":{},"sourceType":"module"}