{"ast":null,"code":"import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useCallback, useContext } from 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport 'reakit-utils/getDocument';\nimport '../getCurrentId-5aa9849e.js';\nimport '../__keys-6742f591.js';\nimport '../userFocus-e16425e3.js';\nimport 'reakit-utils/isTextField';\nimport 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport '../setTextFieldValue-0a221f4e.js';\nimport { useCompositeItem } from '../Composite/CompositeItem.js';\nimport 'reakit-utils/removeItemFromArray';\nimport { M as MenuContext } from '../MenuContext-6af6cf92.js';\nimport { contains } from 'reakit-utils/contains';\nimport { e as MENU_ITEM_KEYS } from '../__keys-f74df4e0.js';\nimport { f as findVisibleSubmenu } from '../findVisibleSubmenu-1553e354.js';\n\nfunction getTriangleArea(a, b, c) {\n  return Math.abs((a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - b.y)) / 2);\n}\n\nfunction isPointInTriangle(point, a, b, c) {\n  var A = getTriangleArea(a, b, c);\n  var A1 = getTriangleArea(point, b, c);\n  var A2 = getTriangleArea(a, point, c);\n  var A3 = getTriangleArea(a, b, point);\n  return A === A1 + A2 + A3;\n}\n\nfunction getSubmenuAnchorPoints(event, visibleSubmenu) {\n  var _visibleSubmenu$getBo = visibleSubmenu.getBoundingClientRect(),\n      top = _visibleSubmenu$getBo.top,\n      right = _visibleSubmenu$getBo.right,\n      bottom = _visibleSubmenu$getBo.bottom,\n      left = _visibleSubmenu$getBo.left; // If left is bigger than mouse's clientX, than the submenu is visible on\n  // the left side\n\n\n  var x = left > event.clientX ? left : right;\n  return [{\n    x: x,\n    y: top\n  }, {\n    x: x,\n    y: bottom\n  }];\n}\n\nfunction useTransitToSubmenu(menu, htmlOnMouseEnter) {\n  var onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n  var enterPointRef = useRef(null);\n  var submenuTopPointRef = useRef(null);\n  var submenuBottomPointRef = useRef(null);\n  var previousClientX = useRef(0);\n  var previousClientY = useRef(0);\n  var assignSubmenuAnchorPoints = useCallback(function (event) {\n    if (!(menu === null || menu === void 0 ? void 0 : menu.children.length)) return;\n    submenuTopPointRef.current = null;\n    submenuBottomPointRef.current = null;\n    var visibleSubmenu = findVisibleSubmenu(menu.children);\n    if (!visibleSubmenu) return;\n\n    var _getSubmenuAnchorPoin = getSubmenuAnchorPoints(event, visibleSubmenu);\n\n    submenuTopPointRef.current = _getSubmenuAnchorPoin[0];\n    submenuBottomPointRef.current = _getSubmenuAnchorPoin[1];\n  }, [menu === null || menu === void 0 ? void 0 : menu.children]);\n  var isMouseInTransitToSubmenu = useCallback(function (event) {\n    var isMoving = previousClientX.current !== event.clientX || previousClientY.current !== event.clientY;\n\n    if (event.isTrusted && !isMoving) {\n      // Safari sometimes triggers mousemove without a mouse movement\n      return true;\n    }\n\n    var movementX = Math.abs(previousClientX.current - event.clientX);\n    previousClientX.current = event.clientX;\n    previousClientY.current = event.clientY;\n\n    var hasAnchorPoints = function hasAnchorPoints() {\n      return submenuTopPointRef.current && submenuBottomPointRef.current;\n    };\n\n    if (event.type === \"mouseleave\" && !hasAnchorPoints()) {\n      assignSubmenuAnchorPoints(event);\n    }\n\n    if (!hasAnchorPoints()) return false;\n    return movementX && enterPointRef.current && isPointInTriangle({\n      x: event.clientX,\n      y: event.clientY\n    }, enterPointRef.current, submenuTopPointRef.current, submenuBottomPointRef.current);\n  }, [assignSubmenuAnchorPoints]);\n  var onMouseEnter = useCallback(function (event) {\n    var _onMouseEnterRef$curr;\n\n    (_onMouseEnterRef$curr = onMouseEnterRef.current) === null || _onMouseEnterRef$curr === void 0 ? void 0 : _onMouseEnterRef$curr.call(onMouseEnterRef, event);\n    if (event.defaultPrevented) return;\n    if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n    enterPointRef.current = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    assignSubmenuAnchorPoints(event);\n  }, [menu === null || menu === void 0 ? void 0 : menu.role, assignSubmenuAnchorPoints]);\n  return {\n    onMouseEnter: onMouseEnter,\n    isMouseInTransitToSubmenu: isMouseInTransitToSubmenu\n  };\n}\n\nfunction getMouseDestination(event) {\n  var relatedTarget = event.relatedTarget;\n\n  if ((relatedTarget === null || relatedTarget === void 0 ? void 0 : relatedTarget.nodeType) === Node.ELEMENT_NODE) {\n    return event.relatedTarget;\n  } // IE 11\n\n\n  return event.toElement || null;\n}\n\nfunction hoveringInside(event) {\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return contains(event.currentTarget, nextElement);\n}\n\nfunction hoveringExpandedMenu(event, children) {\n  if (!(children === null || children === void 0 ? void 0 : children.length)) return false;\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  var visibleSubmenu = findVisibleSubmenu(children);\n  return visibleSubmenu && contains(visibleSubmenu, nextElement);\n}\n\nfunction hoveringAnotherMenuItem(event, items) {\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return items === null || items === void 0 ? void 0 : items.some(function (item) {\n    return item.ref.current && contains(item.ref.current, nextElement);\n  });\n}\n\nvar useMenuItem = createHook({\n  name: \"MenuItem\",\n  compose: useCompositeItem,\n  keys: MENU_ITEM_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    var prevPopoverStyles = prev.unstable_popoverStyles,\n        prevArrowStyles = prev.unstable_arrowStyles,\n        prevVisible = prev.visible,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"visible\"]);\n\n    var nextPopoverStyles = next.unstable_popoverStyles,\n        nextArrowStyles = next.unstable_arrowStyles,\n        nextVisible = next.visible,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"visible\"]);\n\n    return useCompositeItem.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlOnMouseEnter = _ref.onMouseEnter,\n        htmlOnMouseMove = _ref.onMouseMove,\n        htmlOnMouseLeave = _ref.onMouseLeave,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"onMouseEnter\", \"onMouseMove\", \"onMouseLeave\"]);\n\n    var menu = useContext(MenuContext);\n    var onMouseMoveRef = useLiveRef(htmlOnMouseMove);\n    var onMouseLeaveRef = useLiveRef(htmlOnMouseLeave);\n\n    var _useTransitToSubmenu = useTransitToSubmenu(menu, htmlOnMouseEnter),\n        onMouseEnter = _useTransitToSubmenu.onMouseEnter,\n        isMouseInTransitToSubmenu = _useTransitToSubmenu.isMouseInTransitToSubmenu;\n\n    var onMouseMove = useCallback(function (event) {\n      var _onMouseMoveRef$curre, _options$move;\n\n      (_onMouseMoveRef$curre = onMouseMoveRef.current) === null || _onMouseMoveRef$curre === void 0 ? void 0 : _onMouseMoveRef$curre.call(onMouseMoveRef, event);\n      if (event.defaultPrevented) return;\n      if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n      if (isMouseInTransitToSubmenu(event)) return;\n      if (hasFocusWithin(event.currentTarget)) return;\n      (_options$move = options.move) === null || _options$move === void 0 ? void 0 : _options$move.call(options, event.currentTarget.id);\n    }, [options.move]);\n    var onMouseLeave = useCallback(function (event) {\n      var _onMouseLeaveRef$curr;\n\n      (_onMouseLeaveRef$curr = onMouseLeaveRef.current) === null || _onMouseLeaveRef$curr === void 0 ? void 0 : _onMouseLeaveRef$curr.call(onMouseLeaveRef, event);\n      if (event.defaultPrevented) return;\n      if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n      if (hoveringInside(event)) return; // If this item is a menu disclosure and mouse is leaving it to focus\n      // its respective submenu, we don't want to do anything.\n\n      if (hoveringExpandedMenu(event, menu === null || menu === void 0 ? void 0 : menu.children)) return; // Move focus to menu after blurring\n\n      if (!hoveringAnotherMenuItem(event, options.items)) {\n        var _options$move2;\n\n        if (isMouseInTransitToSubmenu(event)) return;\n        (_options$move2 = options.move) === null || _options$move2 === void 0 ? void 0 : _options$move2.call(options, null);\n      }\n    }, [menu === null || menu === void 0 ? void 0 : menu.role, menu === null || menu === void 0 ? void 0 : menu.children, options.items, options.move]);\n    return _objectSpread2({\n      role: \"menuitem\",\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave\n    }, htmlProps);\n  }\n});\nvar MenuItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useMenuItem\n});\nexport { MenuItem, useMenuItem };","map":{"version":3,"sources":["/Users/davimello/Creative Cloud Files/Davi/code/portfolio/node_modules/reakit/es/Menu/MenuItem.js"],"names":["_","_objectWithoutPropertiesLoose","a","_objectSpread2","createComponent","createHook","useRef","useCallback","useContext","useLiveRef","hasFocusWithin","useCompositeItem","M","MenuContext","contains","e","MENU_ITEM_KEYS","f","findVisibleSubmenu","getTriangleArea","b","c","Math","abs","x","y","isPointInTriangle","point","A","A1","A2","A3","getSubmenuAnchorPoints","event","visibleSubmenu","_visibleSubmenu$getBo","getBoundingClientRect","top","right","bottom","left","clientX","useTransitToSubmenu","menu","htmlOnMouseEnter","onMouseEnterRef","enterPointRef","submenuTopPointRef","submenuBottomPointRef","previousClientX","previousClientY","assignSubmenuAnchorPoints","children","length","current","_getSubmenuAnchorPoin","isMouseInTransitToSubmenu","isMoving","clientY","isTrusted","movementX","hasAnchorPoints","type","onMouseEnter","_onMouseEnterRef$curr","call","defaultPrevented","role","getMouseDestination","relatedTarget","nodeType","Node","ELEMENT_NODE","toElement","hoveringInside","nextElement","currentTarget","hoveringExpandedMenu","hoveringAnotherMenuItem","items","some","item","ref","useMenuItem","name","compose","keys","propsAreEqual","prev","next","prevPopoverStyles","unstable_popoverStyles","prevArrowStyles","unstable_arrowStyles","prevVisible","visible","prevProps","nextPopoverStyles","nextArrowStyles","nextVisible","nextProps","unstable_propsAreEqual","useProps","options","_ref","htmlOnMouseMove","onMouseMove","htmlOnMouseLeave","onMouseLeave","htmlProps","onMouseMoveRef","onMouseLeaveRef","_useTransitToSubmenu","_onMouseMoveRef$curre","_options$move","move","id","_onMouseLeaveRef$curr","_options$move2","MenuItem","as","memo","useHook"],"mappings":"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","sourcesContent":["import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useCallback, useContext } from 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/getActiveElement';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport 'reakit-utils/getDocument';\nimport '../getCurrentId-5aa9849e.js';\nimport '../__keys-6742f591.js';\nimport '../userFocus-e16425e3.js';\nimport 'reakit-utils/isTextField';\nimport 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport '../setTextFieldValue-0a221f4e.js';\nimport { useCompositeItem } from '../Composite/CompositeItem.js';\nimport 'reakit-utils/removeItemFromArray';\nimport { M as MenuContext } from '../MenuContext-6af6cf92.js';\nimport { contains } from 'reakit-utils/contains';\nimport { e as MENU_ITEM_KEYS } from '../__keys-f74df4e0.js';\nimport { f as findVisibleSubmenu } from '../findVisibleSubmenu-1553e354.js';\n\nfunction getTriangleArea(a, b, c) {\n  return Math.abs((a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - b.y)) / 2);\n}\n\nfunction isPointInTriangle(point, a, b, c) {\n  var A = getTriangleArea(a, b, c);\n  var A1 = getTriangleArea(point, b, c);\n  var A2 = getTriangleArea(a, point, c);\n  var A3 = getTriangleArea(a, b, point);\n  return A === A1 + A2 + A3;\n}\n\nfunction getSubmenuAnchorPoints(event, visibleSubmenu) {\n  var _visibleSubmenu$getBo = visibleSubmenu.getBoundingClientRect(),\n      top = _visibleSubmenu$getBo.top,\n      right = _visibleSubmenu$getBo.right,\n      bottom = _visibleSubmenu$getBo.bottom,\n      left = _visibleSubmenu$getBo.left; // If left is bigger than mouse's clientX, than the submenu is visible on\n  // the left side\n\n\n  var x = left > event.clientX ? left : right;\n  return [{\n    x: x,\n    y: top\n  }, {\n    x: x,\n    y: bottom\n  }];\n}\n\nfunction useTransitToSubmenu(menu, htmlOnMouseEnter) {\n  var onMouseEnterRef = useLiveRef(htmlOnMouseEnter);\n  var enterPointRef = useRef(null);\n  var submenuTopPointRef = useRef(null);\n  var submenuBottomPointRef = useRef(null);\n  var previousClientX = useRef(0);\n  var previousClientY = useRef(0);\n  var assignSubmenuAnchorPoints = useCallback(function (event) {\n    if (!(menu === null || menu === void 0 ? void 0 : menu.children.length)) return;\n    submenuTopPointRef.current = null;\n    submenuBottomPointRef.current = null;\n    var visibleSubmenu = findVisibleSubmenu(menu.children);\n    if (!visibleSubmenu) return;\n\n    var _getSubmenuAnchorPoin = getSubmenuAnchorPoints(event, visibleSubmenu);\n\n    submenuTopPointRef.current = _getSubmenuAnchorPoin[0];\n    submenuBottomPointRef.current = _getSubmenuAnchorPoin[1];\n  }, [menu === null || menu === void 0 ? void 0 : menu.children]);\n  var isMouseInTransitToSubmenu = useCallback(function (event) {\n    var isMoving = previousClientX.current !== event.clientX || previousClientY.current !== event.clientY;\n\n    if (event.isTrusted && !isMoving) {\n      // Safari sometimes triggers mousemove without a mouse movement\n      return true;\n    }\n\n    var movementX = Math.abs(previousClientX.current - event.clientX);\n    previousClientX.current = event.clientX;\n    previousClientY.current = event.clientY;\n\n    var hasAnchorPoints = function hasAnchorPoints() {\n      return submenuTopPointRef.current && submenuBottomPointRef.current;\n    };\n\n    if (event.type === \"mouseleave\" && !hasAnchorPoints()) {\n      assignSubmenuAnchorPoints(event);\n    }\n\n    if (!hasAnchorPoints()) return false;\n    return movementX && enterPointRef.current && isPointInTriangle({\n      x: event.clientX,\n      y: event.clientY\n    }, enterPointRef.current, submenuTopPointRef.current, submenuBottomPointRef.current);\n  }, [assignSubmenuAnchorPoints]);\n  var onMouseEnter = useCallback(function (event) {\n    var _onMouseEnterRef$curr;\n\n    (_onMouseEnterRef$curr = onMouseEnterRef.current) === null || _onMouseEnterRef$curr === void 0 ? void 0 : _onMouseEnterRef$curr.call(onMouseEnterRef, event);\n    if (event.defaultPrevented) return;\n    if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n    enterPointRef.current = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    assignSubmenuAnchorPoints(event);\n  }, [menu === null || menu === void 0 ? void 0 : menu.role, assignSubmenuAnchorPoints]);\n  return {\n    onMouseEnter: onMouseEnter,\n    isMouseInTransitToSubmenu: isMouseInTransitToSubmenu\n  };\n}\n\nfunction getMouseDestination(event) {\n  var relatedTarget = event.relatedTarget;\n\n  if ((relatedTarget === null || relatedTarget === void 0 ? void 0 : relatedTarget.nodeType) === Node.ELEMENT_NODE) {\n    return event.relatedTarget;\n  } // IE 11\n\n\n  return event.toElement || null;\n}\n\nfunction hoveringInside(event) {\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return contains(event.currentTarget, nextElement);\n}\n\nfunction hoveringExpandedMenu(event, children) {\n  if (!(children === null || children === void 0 ? void 0 : children.length)) return false;\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  var visibleSubmenu = findVisibleSubmenu(children);\n  return visibleSubmenu && contains(visibleSubmenu, nextElement);\n}\n\nfunction hoveringAnotherMenuItem(event, items) {\n  var nextElement = getMouseDestination(event);\n  if (!nextElement) return false;\n  return items === null || items === void 0 ? void 0 : items.some(function (item) {\n    return item.ref.current && contains(item.ref.current, nextElement);\n  });\n}\n\nvar useMenuItem = createHook({\n  name: \"MenuItem\",\n  compose: useCompositeItem,\n  keys: MENU_ITEM_KEYS,\n  propsAreEqual: function propsAreEqual(prev, next) {\n    var prevPopoverStyles = prev.unstable_popoverStyles,\n        prevArrowStyles = prev.unstable_arrowStyles,\n        prevVisible = prev.visible,\n        prevProps = _objectWithoutPropertiesLoose(prev, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"visible\"]);\n\n    var nextPopoverStyles = next.unstable_popoverStyles,\n        nextArrowStyles = next.unstable_arrowStyles,\n        nextVisible = next.visible,\n        nextProps = _objectWithoutPropertiesLoose(next, [\"unstable_popoverStyles\", \"unstable_arrowStyles\", \"visible\"]);\n\n    return useCompositeItem.unstable_propsAreEqual(prevProps, nextProps);\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlOnMouseEnter = _ref.onMouseEnter,\n        htmlOnMouseMove = _ref.onMouseMove,\n        htmlOnMouseLeave = _ref.onMouseLeave,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"onMouseEnter\", \"onMouseMove\", \"onMouseLeave\"]);\n\n    var menu = useContext(MenuContext);\n    var onMouseMoveRef = useLiveRef(htmlOnMouseMove);\n    var onMouseLeaveRef = useLiveRef(htmlOnMouseLeave);\n\n    var _useTransitToSubmenu = useTransitToSubmenu(menu, htmlOnMouseEnter),\n        onMouseEnter = _useTransitToSubmenu.onMouseEnter,\n        isMouseInTransitToSubmenu = _useTransitToSubmenu.isMouseInTransitToSubmenu;\n\n    var onMouseMove = useCallback(function (event) {\n      var _onMouseMoveRef$curre, _options$move;\n\n      (_onMouseMoveRef$curre = onMouseMoveRef.current) === null || _onMouseMoveRef$curre === void 0 ? void 0 : _onMouseMoveRef$curre.call(onMouseMoveRef, event);\n      if (event.defaultPrevented) return;\n      if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n      if (isMouseInTransitToSubmenu(event)) return;\n      if (hasFocusWithin(event.currentTarget)) return;\n      (_options$move = options.move) === null || _options$move === void 0 ? void 0 : _options$move.call(options, event.currentTarget.id);\n    }, [options.move]);\n    var onMouseLeave = useCallback(function (event) {\n      var _onMouseLeaveRef$curr;\n\n      (_onMouseLeaveRef$curr = onMouseLeaveRef.current) === null || _onMouseLeaveRef$curr === void 0 ? void 0 : _onMouseLeaveRef$curr.call(onMouseLeaveRef, event);\n      if (event.defaultPrevented) return;\n      if ((menu === null || menu === void 0 ? void 0 : menu.role) === \"menubar\") return;\n      if (hoveringInside(event)) return; // If this item is a menu disclosure and mouse is leaving it to focus\n      // its respective submenu, we don't want to do anything.\n\n      if (hoveringExpandedMenu(event, menu === null || menu === void 0 ? void 0 : menu.children)) return; // Move focus to menu after blurring\n\n      if (!hoveringAnotherMenuItem(event, options.items)) {\n        var _options$move2;\n\n        if (isMouseInTransitToSubmenu(event)) return;\n        (_options$move2 = options.move) === null || _options$move2 === void 0 ? void 0 : _options$move2.call(options, null);\n      }\n    }, [menu === null || menu === void 0 ? void 0 : menu.role, menu === null || menu === void 0 ? void 0 : menu.children, options.items, options.move]);\n    return _objectSpread2({\n      role: \"menuitem\",\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave\n    }, htmlProps);\n  }\n});\nvar MenuItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useMenuItem\n});\n\nexport { MenuItem, useMenuItem };\n"]},"metadata":{},"sourceType":"module"}