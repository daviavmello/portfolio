import { useCallback } from 'react';
import '../Provider/ThemeContext.js';
import 'classnames';
import 'emotion';
import '@emotion/core';
import 'emotion-theming';
import '@emotion/styled';
import { useTheme } from './useTheme.js';

function useLocalStorage() {
  var _theme$modes, _theme$modes2;

  var _useTheme = useTheme(),
      theme = _useTheme.theme;

  var isEnabled = (_theme$modes = theme.modes) === null || _theme$modes === void 0 ? void 0 : _theme$modes.enableLocalStorage;
  var localStoragePrefix = (_theme$modes2 = theme.modes) === null || _theme$modes2 === void 0 ? void 0 : _theme$modes2.localStoragePrefix;
  var get = useCallback(function (key) {
    if (!isEnabled) return;

    if (typeof window !== 'undefined') {
      return window.localStorage.getItem(localStoragePrefix + "." + key);
    }
  }, [isEnabled, localStoragePrefix]);
  var set = useCallback(function (key, value) {
    if (!isEnabled) return;

    if (typeof window !== 'undefined') {
      return window.localStorage.setItem(localStoragePrefix + "." + key, value);
    }
  }, [isEnabled, localStoragePrefix]);
  return {
    get: get,
    set: set
  };
}

export { useLocalStorage };
