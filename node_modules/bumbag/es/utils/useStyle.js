import { useMemo } from 'react';
import '../Provider/ThemeContext.js';
import 'classnames';
import 'emotion';
import '@emotion/core';
import 'emotion-theming';
import '@emotion/styled';
import { useTheme } from './useTheme.js';
import './useLocalStorage.js';
import '../_rollupPluginBabelHelpers.js';
import './omit.js';
import '../ColorMode/utils.js';
import { useColorMode } from '../ColorMode/ColorModeContext.js';
import './pick.js';
import { pickCSSProps } from './cssProps.js';
import 'lodash/kebabCase';
import 'tinycolor2';
import './isFunction.js';
import './get.js';
import { g as getCSSFromStyleObject } from '../getCSSFromStyleObject.js';

function useStyle(props, _ref) {
  var disableCSSProps = _ref.disableCSSProps;

  var _useTheme = useTheme(),
      theme = _useTheme.theme;

  var _useColorMode = useColorMode(),
      globalColorMode = _useColorMode.colorMode;

  var cssProps = pickCSSProps(props);
  var colorMode = props.colorMode || globalColorMode;
  return useMemo(function () {
    return getCSSFromStyleObject(cssProps, theme, colorMode, {
      fromProps: true,
      disableCSSProps: disableCSSProps
    });
  }, [cssProps, theme, colorMode, disableCSSProps]);
}

export { useStyle };
