'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
require('../Provider/ThemeContext.js');
require('classnames');
require('emotion');
require('@emotion/core');
require('emotion-theming');
require('@emotion/styled');
var utils_useTheme = require('./useTheme.js');

function useLocalStorage() {
  var _theme$modes, _theme$modes2;

  var _useTheme = utils_useTheme.useTheme(),
      theme = _useTheme.theme;

  var isEnabled = (_theme$modes = theme.modes) === null || _theme$modes === void 0 ? void 0 : _theme$modes.enableLocalStorage;
  var localStoragePrefix = (_theme$modes2 = theme.modes) === null || _theme$modes2 === void 0 ? void 0 : _theme$modes2.localStoragePrefix;
  var get = React.useCallback(function (key) {
    if (!isEnabled) return;

    if (typeof window !== 'undefined') {
      return window.localStorage.getItem(localStoragePrefix + "." + key);
    }
  }, [isEnabled, localStoragePrefix]);
  var set = React.useCallback(function (key, value) {
    if (!isEnabled) return;

    if (typeof window !== 'undefined') {
      return window.localStorage.setItem(localStoragePrefix + "." + key, value);
    }
  }, [isEnabled, localStoragePrefix]);
  return {
    get: get,
    set: set
  };
}

exports.useLocalStorage = useLocalStorage;
